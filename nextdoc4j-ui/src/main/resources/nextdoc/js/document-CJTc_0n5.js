var Ye=Object.defineProperty,Xe=Object.defineProperties;var Ze=Object.getOwnPropertyDescriptors;var xe=Object.getOwnPropertySymbols;var et=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable;var ke=(p,a,r)=>a in p?Ye(p,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):p[a]=r,L=(p,a)=>{for(var r in a||(a={}))et.call(a,r)&&ke(p,r,a[r]);if(xe)for(var r of xe(a))tt.call(a,r)&&ke(p,r,a[r]);return p},F=(p,a)=>Xe(p,Ze(a));var le=(p,a,r)=>new Promise((C,m)=>{var f=l=>{try{v(r.next(l))}catch(x){m(x)}},g=l=>{try{v(r.throw(l))}catch(x){m(x)}},v=l=>l.done?C(l.value):Promise.resolve(l.value).then(f,g);v((r=r.apply(p,a)).next())});import{i as st,d as oe,e as re,m as at,f as ne,g as rt,h as ce,j as ot,k as nt,E as lt,l as it,w as dt,v as ct,n as Ae,o as Be,p as me,q as ut,r as pt,S as mt,s as ft,b as yt,t as we,_ as ht}from"./bootstrap-DHniKkV2.js";import{A as vt,c as gt,d as bt}from"./index-CYSvZ3lt.js";import{a as _t,d as xt,P as H,Y as De,J as N,av as Ve,b0 as Ce,a4 as U,ao as c,ar as s,aB as Y,aq as R,ah as t,R as he,aD as d,x as S,aH as X,aI as w,aE as $,aJ as B,aK as kt,aF as de,k as ee,F as q,a$ as W,ak as wt,ap as _,aP as Ct,b1 as $t,b2 as St,aG as $e}from"../jse/index-index-BoHc453y.js";import{E as Se}from"./el-button-jI3_cPmR.js";import{E as Q}from"./el-card-XKYGgGEH.js";import{c as Ee,g as Et,f as Nt,E as ye,a as It,b as Tt}from"./el-popper-YifxLVNe.js";import{J as Ne}from"./index-CAi369kD.js";import{g as Pt}from"./enumexpand-BETr1-NE.js";import{m as te}from"./methods-WRGAQ8mz.js";import{r as se,g as jt}from"./schema-vKUyM2il.js";import{_ as Ie}from"./parameter-view.vue_vue_type_script_setup_true_lang--zuuvQ8Z.js";import{_ as At}from"./path-segment.vue_vue_type_script_setup_true_lang-BO9XBg7X.js";import Bt from"./security-view-D11WMfYU.js";import{u as Dt}from"./use-form-common-props-x1wJ0Ch4.js";import{C as Ke,U as Oe,t as Vt}from"./index-0qoOH3AZ.js";import{E as Kt}from"./index-9cJtg5fm.js";import{u as Ot}from"./index-DBu97Vc1.js";import"./el-divider-ClHGUlYs.js";import"./el-tag-k9XU8Vbb.js";const Te=p=>st(p)||_t(p)||xt(p),Rt=oe({accordion:Boolean,modelValue:{type:re([Array,String,Number]),default:()=>at([])},expandIconPosition:{type:re([String]),default:"right"},beforeCollapse:{type:re(Function)}}),qt={[Oe]:Te,[Ke]:Te},Re=Symbol("collapseContextKey"),zt="ElCollapse",Mt=(p,a)=>{const r=H(Ee(p.modelValue)),C=g=>{r.value=g;const v=p.accordion?r.value[0]:r.value;a(Oe,v),a(Ke,v)},m=g=>{if(p.accordion)C([r.value[0]===g?"":g]);else{const v=[...r.value],l=v.indexOf(g);l>-1?v.splice(l,1):v.push(g),C(v)}},f=g=>le(null,null,function*(){const{beforeCollapse:v}=p;if(!v){m(g);return}const l=v(g);[Ce(l),rt(l)].includes(!0)||Vt(zt,"beforeCollapse must return type `Promise<boolean>` or `boolean`"),Ce(l)?l.then(e=>{e!==!1&&m(g)}).catch(e=>{}):l&&m(g)});return De(()=>p.modelValue,()=>r.value=Ee(p.modelValue),{deep:!0}),Ve(Re,{activeNames:r,handleItemClick:f}),{activeNames:r,setActiveNames:C}},Ut=p=>{const a=ne("collapse");return{rootKls:N(()=>[a.b(),a.b(`icon-position-${p.expandIconPosition}`)])}},Lt=U({name:"ElCollapse"}),Ft=U(F(L({},Lt),{props:Rt,emits:qt,setup(p,{expose:a,emit:r}){const C=p,{activeNames:m,setActiveNames:f}=Mt(C,r),{rootKls:g}=Ut(C);return a({activeNames:m,setActiveNames:f}),(v,l)=>(s(),c("div",{class:R(t(g))},[Y(v.$slots,"default")],2))}}));var Ht=ce(Ft,[["__file","collapse.vue"]]);const Wt=oe({title:{type:String,default:""},name:{type:re([String,Number]),default:void 0},icon:{type:nt,default:ot},disabled:Boolean}),Jt=p=>{const a=he(Re),{namespace:r}=ne("collapse"),C=H(!1),m=H(!1),f=Ot(),g=N(()=>f.current++),v=N(()=>{var y;return(y=p.name)!=null?y:`${r.value}-id-${f.prefix}-${t(g)}`}),l=N(()=>a==null?void 0:a.activeNames.value.includes(t(v)));return{focusing:C,id:g,isActive:l,handleFocus:()=>{setTimeout(()=>{m.value?m.value=!1:C.value=!0},50)},handleHeaderClick:y=>{if(p.disabled)return;const E=y.target;E!=null&&E.closest("input, textarea, select")||(a==null||a.handleItemClick(t(v)),C.value=!1,m.value=!0)},handleEnterClick:y=>{const E=y.target;E!=null&&E.closest("input, textarea, select")||(y.preventDefault(),a==null||a.handleItemClick(t(v)))}}},Gt=(p,{focusing:a,isActive:r,id:C})=>{const m=ne("collapse"),f=N(()=>[m.b("item"),m.is("active",t(r)),m.is("disabled",p.disabled)]),g=N(()=>[m.be("item","header"),m.is("active",t(r)),{focusing:t(a)&&!p.disabled}]),v=N(()=>[m.be("item","arrow"),m.is("active",t(r))]),l=N(()=>[m.be("item","title")]),x=N(()=>m.be("item","wrap")),e=N(()=>m.be("item","content")),n=N(()=>m.b(`content-${t(C)}`)),y=N(()=>m.b(`head-${t(C)}`));return{itemTitleKls:l,arrowKls:v,headKls:g,rootKls:f,itemWrapperKls:x,itemContentKls:e,scopedContentId:n,scopedHeadId:y}},Qt=U({name:"ElCollapseItem"}),Yt=U(F(L({},Qt),{props:Wt,setup(p,{expose:a}){const r=p,{focusing:C,id:m,isActive:f,handleFocus:g,handleHeaderClick:v,handleEnterClick:l}=Jt(r),{arrowKls:x,headKls:e,rootKls:n,itemTitleKls:y,itemWrapperKls:E,itemContentKls:D,scopedContentId:A,scopedHeadId:o}=Gt(r,{focusing:C,isActive:f,id:m});return a({isActive:f}),(b,I)=>(s(),c("div",{class:R(t(n))},[d("div",{id:t(o),class:R(t(e)),"aria-expanded":t(f),"aria-controls":t(A),"aria-describedby":t(A),tabindex:b.disabled?-1:0,role:"button",onClick:t(v),onKeydown:it(dt(t(l),["stop"]),["space","enter"]),onFocus:t(g),onBlur:T=>C.value=!1},[d("span",{class:R(t(y))},[Y(b.$slots,"title",{isActive:t(f)},()=>[X(w(b.title),1)])],2),Y(b.$slots,"icon",{isActive:t(f)},()=>[S(t(lt),{class:R(t(x))},{default:$(()=>[(s(),B(kt(b.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),S(t(Kt),null,{default:$(()=>[de(d("div",{id:t(A),role:"region",class:R(t(E)),"aria-hidden":!t(f),"aria-labelledby":t(o)},[d("div",{class:R(t(D))},[Y(b.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[ct,t(f)]])]),_:3})],2))}}));var qe=ce(Yt,[["__file","collapse-item.vue"]]);const Xt=Ae(Ht,{CollapseItem:qe}),Zt=Be(qe),ve=Symbol("elDescriptions");var ae=U({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:he(ve,{})}},render(){var p;const a=Et(this.cell),r=(((p=this.cell)==null?void 0:p.dirs)||[]).map(b=>{const{dir:I,arg:T,modifiers:j,value:z}=b;return[I,z,T,j]}),{border:C,direction:m}=this.descriptions,f=m==="vertical",g=()=>{var b,I,T;return((T=(I=(b=this.cell)==null?void 0:b.children)==null?void 0:I.label)==null?void 0:T.call(I))||a.label},v=()=>{var b,I,T;return(T=(I=(b=this.cell)==null?void 0:b.children)==null?void 0:I.default)==null?void 0:T.call(I)},l=a.span,x=a.rowspan,e=a.align?`is-${a.align}`:"",n=a.labelAlign?`is-${a.labelAlign}`:e,y=a.className,E=a.labelClassName,D=this.type==="label"&&(a.labelWidth||this.descriptions.labelWidth)||a.width,A={width:me(D),minWidth:me(a.minWidth)},o=ne("descriptions");switch(this.type){case"label":return de(ee(this.tag,{style:A,class:[o.e("cell"),o.e("label"),o.is("bordered-label",C),o.is("vertical-label",f),n,E],colSpan:f?l:1,rowspan:f?1:x},g()),r);case"content":return de(ee(this.tag,{style:A,class:[o.e("cell"),o.e("content"),o.is("bordered-content",C),o.is("vertical-content",f),e,y],colSpan:f?l:l*2-1,rowspan:f?x*2-1:x},v()),r);default:{const b=g(),I={},T=me(a.labelWidth||this.descriptions.labelWidth);return T&&(I.width=T,I.display="inline-block"),de(ee("td",{style:A,class:[o.e("cell"),e],colSpan:l,rowspan:x},[ut(b)?void 0:ee("span",{style:I,class:[o.e("label"),E]},b),ee("span",{class:[o.e("content"),y]},v())]),r)}}}});const es=oe({row:{type:re(Array),default:()=>[]}}),ts=U({name:"ElDescriptionsRow"}),ss=U(F(L({},ts),{props:es,setup(p){const a=he(ve,{});return(r,C)=>t(a).direction==="vertical"?(s(),c(q,{key:0},[d("tr",null,[(s(!0),c(q,null,W(r.row,(m,f)=>(s(),B(t(ae),{key:`tr1-${f}`,cell:m,tag:"th",type:"label"},null,8,["cell"]))),128))]),d("tr",null,[(s(!0),c(q,null,W(r.row,(m,f)=>(s(),B(t(ae),{key:`tr2-${f}`,cell:m,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(s(),c("tr",{key:1},[(s(!0),c(q,null,W(r.row,(m,f)=>(s(),c(q,{key:`tr3-${f}`},[t(a).border?(s(),c(q,{key:0},[S(t(ae),{cell:m,tag:"td",type:"label"},null,8,["cell"]),S(t(ae),{cell:m,tag:"td",type:"content"},null,8,["cell"])],64)):(s(),B(t(ae),{key:1,cell:m,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}}));var as=ce(ss,[["__file","descriptions-row.vue"]]);const rs=oe({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:pt,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number],default:""}}),ze="ElDescriptionsItem",os=U({name:"ElDescriptions"}),ns=U(F(L({},os),{props:rs,setup(p){const a=p,r=ne("descriptions"),C=Dt(),m=wt();Ve(ve,a);const f=N(()=>[r.b(),r.m(C.value)]),g=(l,x,e,n=!1)=>(l.props||(l.props={}),x>e&&(l.props.span=e),n&&(l.props.span=x),l),v=()=>{if(!m.default)return[];const l=Nt(m.default()).filter(D=>{var A;return((A=D==null?void 0:D.type)==null?void 0:A.name)===ze}),x=[];let e=[],n=a.column,y=0;const E=[];return l.forEach((D,A)=>{var o,b,I;const T=((o=D.props)==null?void 0:o.span)||1,j=((b=D.props)==null?void 0:b.rowspan)||1,z=x.length;if(E[z]||(E[z]=0),j>1)for(let J=1;J<j;J++)E[I=z+J]||(E[I]=0),E[z+J]++,y++;if(E[z]>0&&(n-=E[z],E[z]=0),A<l.length-1&&(y+=T>n?n:T),A===l.length-1){const J=a.column-y%a.column;e.push(g(D,J,n,!0)),x.push(e);return}T<n?(n-=T,e.push(D)):(e.push(g(D,T,n)),x.push(e),n=a.column,e=[])}),x};return(l,x)=>(s(),c("div",{class:R(t(f))},[l.title||l.extra||l.$slots.title||l.$slots.extra?(s(),c("div",{key:0,class:R(t(r).e("header"))},[d("div",{class:R(t(r).e("title"))},[Y(l.$slots,"title",{},()=>[X(w(l.title),1)])],2),d("div",{class:R(t(r).e("extra"))},[Y(l.$slots,"extra",{},()=>[X(w(l.extra),1)])],2)],2)):_("v-if",!0),d("div",{class:R(t(r).e("body"))},[d("table",{class:R([t(r).e("table"),t(r).is("bordered",l.border)])},[d("tbody",null,[(s(!0),c(q,null,W(v(),(e,n)=>(s(),B(as,{key:n,row:e},null,8,["row"]))),128))])],2)],2)],2))}}));var ls=ce(ns,[["__file","description.vue"]]);const Pe=["left","center","right"],is=oe({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number],default:""},align:{type:String,values:Pe,default:"left"},labelAlign:{type:String,values:Pe},className:{type:String,default:""},labelClassName:{type:String,default:""}}),Me=U({name:ze,props:is}),je=Ae(ls,{DescriptionsItem:Me}),ie=Be(Me),ds={key:0,class:"flex items-center gap-2"},cs={class:"text-primary font-mono text-base font-bold"},us={key:0,class:"flex rounded-md bg-gray-100/50 px-1.5 py-0.5 font-mono text-xs font-bold text-gray-600 dark:bg-white/5 dark:text-gray-200"},ps={key:0},ms={class:"flex items-center gap-2"},fs={class:"flex items-center gap-2"},ys={class:"text-primary font-mono text-base font-bold"},hs={key:0,class:"flex rounded-md bg-gray-100/50 px-1.5 py-0.5 font-mono text-xs font-bold text-gray-600 dark:bg-white/5 dark:text-gray-200"},vs={class:"flex items-center"},gs={key:0},bs={key:0,class:"ml-1 text-xs text-gray-600 dark:text-gray-400"},_s={key:1,class:"flex rounded-md bg-gray-100/50 px-1.5 py-0.5 font-mono text-xs font-bold text-gray-600 dark:bg-white/5 dark:text-gray-200"},xs={key:0,class:"ml-1 text-xs text-gray-600 dark:text-gray-400"},ks={key:2,class:"flex items-center rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},ws={class:"max-w-24 truncate font-mono"},Cs={key:3,class:"flex items-center rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},$s={class:"font-mono"},Ss={key:4,class:"flex items-center rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},Es={class:"font-mono"},Ns={key:5,class:"flex items-center rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},Is={class:"max-w-24 truncate font-mono"},Ts={key:6,class:"rounded-md bg-red-100/50 px-1.5 py-0.5 text-xs font-bold text-red-600 dark:bg-red-400/10 dark:text-red-300"},Ps={key:7,class:"rounded-md bg-green-100/50 px-1.5 py-0.5 text-xs font-bold text-green-600 dark:bg-green-400/10 dark:text-green-300"},js={key:0,class:"mt-4 text-gray-600 dark:text-gray-400"},As=["innerHTML"],Bs={key:2,class:"mt-4"},Ds={class:"flex flex-wrap gap-2"},Vs={class:"text-primary font-mono font-semibold"},Ks={key:0,class:"text-gray-600 dark:text-gray-400"},Os={key:3,class:"mt-6 flex items-center"},Rs={class:"font-mono"},qs={key:4,class:"ml-8 overflow-hidden transition-all duration-200"},fe=U({name:"SchemaView",__name:"schema-view",props:{data:{}},setup(p){const a=H({}),r=e=>{var n;return e.type==="object"&&e.properties?Object.keys(e.properties).length>0:e.type==="array"&&((n=e.items)==null?void 0:n.type)==="object"},C=e=>{var n;return!e.type||e.type==="object"?e.properties||{}:e.type==="array"&&((n=e.items)==null?void 0:n.type)==="object"?e.items.properties||{}:{}},m=(e,n)=>{r(n)&&(a.value[e]=!a.value[e])},f=e=>e.enum?`enum<${e.type}>`:e.type,g=e=>{const n=e.schema||e,y=[];return n.minLength!==void 0&&y.push(`>=${n.minLength}${n.type==="string"?" 字符":""}`),n.maxLength!==void 0&&y.push(`<=${n.maxLength}${n.type==="string"?" 字符":""}`),n.minimum!==void 0&&y.push(`>=${n.minimum}`),n.maximum!==void 0&&y.push(`<=${n.maximum}`),y.join(" 或 ")},v=e=>e==null?void 0:e.includes("<"),l=e=>Pt(e),x=e=>l(e).some(y=>y.description);return(e,n)=>{var E,D,A;const y=Ct("SchemaView",!0);return((E=e.data)==null?void 0:E.type)==="array"&&((A=(D=e.data)==null?void 0:D.items)==null?void 0:A.type)!=="object"?(s(),c("div",ds,[d("span",cs,w(e.data.type),1),e.data.items.type?(s(),c("div",us,[d("span",null,w(e.data.items.type),1),e.data.items.format?(s(),c("span",ps,w(`<${e.data.items.format}>`),1)):_("",!0)])):_("",!0)])):(s(!0),c(q,{key:1},W(C(e.data),(o,b)=>{var I,T;return s(),c("div",{key:b,class:"border-b border-gray-100 py-6 last:border-b-0 last:pb-0 dark:border-gray-800"},[d("div",ms,[r(o)?(s(),B(t(mt),{key:0,class:R([{"rotate-90":!a.value[b],"cursor-pointer":r(o)},"size-4 transition-transform"]),onClick:j=>m(String(b),o)},null,8,["class","onClick"])):_("",!0),d("div",fs,[d("span",ys,w(b),1),f(o)?(s(),c("div",hs,[d("div",vs,[d("div",null,w(f(o)),1),o.title?(s(),c("span",gs,w(`<${o.title}>`),1)):_("",!0)]),o.format?(s(),c("span",bs,w(`<${o.format}>`),1)):_("",!0)])):_("",!0),o.type==="array"?(s(),c("div",_s,[d("div",null,[d("span",null,w(o.items.type)+"["+w(o.items.title)+"]",1),o.format?(s(),c("span",xs,w(`<${o.format}>`),1)):_("",!0)])])):_("",!0),!r(o)&&o.example?(s(),c("div",ks,[n[0]||(n[0]=d("span",{class:"mr-0.5 text-gray-400 dark:text-gray-500"},"示例值:",-1)),S(t(ye),{placement:"top",content:String(o.example)},{default:$(()=>[d("span",ws,w(o.example),1)]),_:2},1032,["content"])])):_("",!0),!r(o)&&o.default?(s(),c("div",Cs,[n[1]||(n[1]=d("span",{class:"mr-0.5 text-gray-400 dark:text-gray-500"},"默认值:",-1)),d("span",$s,w(o.default),1)])):_("",!0),g(o)?(s(),c("div",Ss,[n[2]||(n[2]=d("span",{class:"mr-0.5 text-gray-400 dark:text-gray-500"}," 取值范围: ",-1)),d("span",Es,w(g(o)),1)])):_("",!0),o.pattern?(s(),c("div",Ns,[n[3]||(n[3]=d("span",{class:"mr-0.5 text-gray-400 dark:text-gray-500"}," 正则匹配: ",-1)),S(t(ye),{placement:"top",content:String(o.pattern)},{default:$(()=>[d("span",Is,w(o.pattern),1)]),_:2},1032,["content"])])):_("",!0),(T=(I=e.data)==null?void 0:I.required)!=null&&T.includes(b)?(s(),c("div",Ts," 必须 ")):(s(),c("div",Ps," 可选 "))])]),o.description&&!v(o.description)?(s(),c("div",js,w(o.description),1)):_("",!0),o.description&&v(o.description)?(s(),c("div",{key:1,class:"mt-4 text-sm text-gray-600 dark:text-gray-400",innerHTML:o.description},null,8,As)):_("",!0),x(o)?(s(),c("div",Bs,[n[4]||(n[4]=d("div",{class:"mb-2 text-xs font-medium text-gray-600 dark:text-gray-400"}," 可用值: ",-1)),d("div",Ds,[(s(!0),c(q,null,W(l(o),j=>(s(),c("div",{key:j.value,class:"bg-primary/5 inline-flex items-center gap-1.5 rounded-md px-2.5 py-1.5 text-xs"},[d("span",Vs,w(j.value),1),j.description?(s(),c("span",Ks," - "+w(j.description),1)):_("",!0)]))),128))])])):o.enum?(s(),c("div",Os,[n[5]||(n[5]=d("span",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"}," 可用值: ",-1)),(s(!0),c(q,null,W(o.enum,j=>(s(),c("div",{key:j,class:"mr-2 rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},[d("span",Rs,w(j),1)]))),128))])):_("",!0),r(o)&&!a.value[b]?(s(),c("div",qs,[S(y,{data:o},null,8,["data"])])):_("",!0)])}),128))}}}),zs={class:"relative flex h-full w-full gap-4 overflow-y-auto"},Ms={class:"flex flex-1 flex-col"},Us={class:"flex flex-col p-5 pb-0"},Ls={class:"text-primary text-sm font-semibold"},Fs={class:"mt-3 text-3xl font-bold"},Hs={class:"prose prose-gray dark:prose-invert mt-2 text-lg"},Ws=["innerHTML"],Js={class:"px-5"},Gs={class:"flex items-center justify-between"},Qs={class:"font-mono"},Ys={key:0,class:"p-5"},Xs={class:"flex justify-between"},Zs={class:"flex items-center gap-2"},ea={key:0,class:"rounded-md bg-red-100/50 px-1.5 py-0.5 font-mono text-xs font-bold text-red-600 dark:bg-red-400/10 dark:text-red-300"},ta={class:"px-2 py-0.5 font-mono text-xs text-gray-600 dark:text-gray-300"},sa={key:0},aa={key:1},ra={key:0,class:"sticky top-0 max-h-[calc(100vh-40px)] flex-1 overflow-y-auto [&::-webkit-scrollbar]:hidden"},oa={class:"p-5"},na={key:0,class:"mb-6"},la={key:1},ia={key:2,class:"py-8 text-center text-gray-400"},da=U({name:"DocumentView",__name:"document",props:{showTest:{type:Boolean}},emits:["test"],setup(p,{expose:a,emit:r}){const C=p,m=r,f=i=>i&&i["x-nextdoc4j-security"]||null,g=i=>{const u=f(i);if(!u||u.ignore)return!1;const k=u.permissions&&u.permissions.length>0,h=u.roles&&u.roles.length>0;return k||h},v=ft(),l=yt(),x=H(""),e=H({}),n=H("200"),y=H(""),E=H(!0),D=H(null),A=N(()=>f(e.value)),o=N(()=>g(e.value)),b=N(()=>{var u,k;const i=(k=(u=e.value)==null?void 0:u.parameters)==null?void 0:k.filter(h=>h.in==="path");return i&&i.length>0?i:null}),I=N(()=>{var u,k;const i=(k=(u=e.value)==null?void 0:u.parameters)==null?void 0:k.filter(h=>h.in==="query");return i&&i.length>0?i:null}),T=H("200"),j=N(()=>{var i,u;return((u=(i=e.value)==null?void 0:i.responses)==null?void 0:u[T.value])||null}),z=N(()=>{var k,h;if(!j.value)return null;const i=j.value.content||{},u=((k=i["application/json"])==null?void 0:k.schema)||((h=i["*/*"])==null?void 0:h.schema)||j.value.schema;return u?se(u):null}),J=N(()=>z.value?jt(z.value):null),M=N(()=>{var P,V,K;const i=(P=e.value.requestBody)==null?void 0:P.content;if(!i)return null;const u=Object.keys(i);let k=null;for(const G of u){const O=(V=i[G])==null?void 0:V.schema;if(O&&(O.properties||O.$ref||O.items)){k=O;break}}if(!k)return null;if(k.oneOf)return k.oneOf.map(G=>{var Z,be;const O=se(G);if(O.allOf){const _e={};return O.allOf.forEach(pe=>{const Qe=pe.$ref?se(pe):pe;Object.assign(_e,Qe.properties)}),F(L({},O),{title:O.title||((Z=O.$ref)==null?void 0:Z.split("/").pop())||"请求体",properties:_e})}return F(L({},O),{title:O.title||((be=O.$ref)==null?void 0:be.split("/").pop())||"请求体"})});const h=se(k);return F(L({},h),{title:h.title||((K=k.$ref)==null?void 0:K.split("/").pop())||"请求体"})}),Ue=N(()=>{var k,h;const i=(k=e.value.requestBody)==null?void 0:k.content;if(!i)return"application/json";const u=Object.keys(i);for(const P of u){const V=(h=i[P])==null?void 0:h.schema;if(V&&(V.properties||V.$ref||V.items))return P}return u[0]||"application/json"});De(M,i=>{Array.isArray(i)&&i.length>0&&!y.value&&(y.value=i[0].title)},{immediate:!0});const ue=N(()=>M.value?Array.isArray(M.value)?M.value.find(i=>i.title===y.value)||M.value[0]||null:M.value:null),Le=i=>{if(!i)return{};if(i.properties)return i.properties;const u=(k,h=[])=>{const P={};return k&&Object.entries(k).forEach(([V,K])=>{var G;P[V]=F(L({},K),{required:h.includes(V)}),K.type==="object"&&K.properties&&(P[V].properties=u(K.properties,K.required||[])),K.type==="array"&&((G=K.items)==null?void 0:G.type)==="object"&&K.items.properties&&(P[V].items=F(L({},K.items),{properties:u(K.items.properties,K.items.required||[])}))}),P};return u(i.properties||{},i.required||[])},Fe=N(()=>{var h,P,V;if(!((h=j.value)!=null&&h.content))return{};const i=j.value.content,u=((P=i["application/json"])==null?void 0:P.schema)||((V=i["*/*"])==null?void 0:V.schema)||j.value.schema;if(!u)return{};const k=se(u);return{type:"object",properties:Le(k)}}),{copy:ge}=$t();function He(){return le(this,null,function*(){yield ge(x.value),we.success("Base URL 已复制")})}function We(){return le(this,null,function*(){yield ge(e.value.path),we.success("Path 已复制")})}const Je=()=>{C.showTest||e.value&&m("test",e.value)},Ge=N(()=>{const i=v.name;return(i==null?void 0:i.split("*")[1])||""});return St(()=>{var V,K,G,O;const i=v.name;if(!i||typeof i!="string"){console.warn("Route name is not available");return}const[u="",k="",h=""]=(V=i.split("*"))!=null?V:[],P=l.searchPathData(u,k,h);if(P&&(e.value=P,P.responses)){const Z=Object.keys(P.responses);n.value=Z[0]||"200",T.value=Z[0]||"200"}x.value=((O=(G=(K=l.openApi)==null?void 0:K.servers)==null?void 0:G[0])==null?void 0:O.url)||""}),a({requestBodyType:y}),(i,u)=>{var k;return s(),c("div",zs,[d("div",Ms,[d("div",Us,[d("div",Ls,w(Ge.value),1),d("h1",Fs,w((k=e.value.summary)!=null?k:"暂无描述"),1),d("div",Hs,[d("div",{innerHTML:e.value.description||"暂无描述"},null,8,Ws)])]),d("div",Js,[S(t(Q),{shadow:"never","body-style":{padding:"10px"},class:"mt-6"},{default:$(()=>[d("div",Gs,[d("div",Qs,[d("span",{class:"inline-flex items-center rounded-md px-1.5 py-1 font-bold",style:$e(t(te)[e.value.method.toUpperCase()])},w(e.value.method.toUpperCase()),5),x.value?(s(),B(t(ye),{key:0,placement:"top",content:x.value},{default:$(()=>[S(t(Se),{size:"small",class:"ml-2 !px-1",onClick:He},{default:$(()=>[S(t(vt),{class:"size-4"})]),_:1})]),_:1},8,["content"])):_("",!0),d("span",{onClick:We,class:"ml-2 cursor-pointer"},[S(At,{path:e.value.path,"param-style":F(L({},t(te)[e.value.method.toUpperCase()]),{borderColor:t(te)[e.value.method.toUpperCase()].color})},null,8,["path","param-style"])])]),S(t(Se),{text:"",size:"large",style:$e(t(te)[e.value.method.toUpperCase()]),onClick:Je,class:R(i.showTest?`${t(te)[e.value.method.toUpperCase()].backgroundColor} !cursor-not-allowed opacity-50`:"")},{default:$(()=>[X(w(i.showTest?"":"调试")+" ",1),i.showTest?(s(),B(t(gt),{key:0,class:"ml-0.5 size-4 animate-spin"})):(s(),B(t(bt),{key:1,class:"ml-0.5 size-4"}))]),_:1},8,["style","class"])])]),_:1})]),o.value&&A.value?(s(),c("div",Ys,[S(t(Q),{shadow:"never",header:"访问权限"},{default:$(()=>[S(Bt,{metadata:A.value},null,8,["metadata"])]),_:1})])):_("",!0),b.value||I.value||M.value?(s(),B(t(je),{key:1,column:1,title:"请求参数",class:"mt-4 p-5"},{default:$(()=>[b.value?(s(),B(t(ie),{key:0},{default:$(()=>[S(t(Q),{bordered:"",shadow:"never",header:"Path 参数"},{default:$(()=>[(s(!0),c(q,null,W(b.value,h=>(s(),B(Ie,{key:h.name,parameter:h},null,8,["parameter"]))),128))]),_:1})]),_:1})):_("",!0),I.value?(s(),B(t(ie),{key:1},{default:$(()=>[S(t(Q),{bordered:"",shadow:"never",header:"Query 参数"},{default:$(()=>[(s(!0),c(q,null,W(I.value,h=>(s(),B(Ie,{key:h.name,parameter:h},null,8,["parameter"]))),128))]),_:1})]),_:1})):_("",!0),M.value?(s(),B(t(ie),{key:2},{default:$(()=>[S(t(Q),{bordered:"",shadow:"never",header:"Body 参数"},{header:$(()=>[d("div",Xs,[d("div",Zs,[u[2]||(u[2]=d("span",null,"Body 参数",-1)),y.value?(s(),c("div",ea,w(y.value),1)):_("",!0)]),d("div",ta,w(Ue.value),1)])]),default:$(()=>[Array.isArray(M.value)?(s(),c("div",sa,[S(t(It),{modelValue:y.value,"onUpdate:modelValue":u[0]||(u[0]=h=>y.value=h),size:"small"},{default:$(()=>[(s(!0),c(q,null,W(M.value,h=>(s(),B(t(Tt),{key:h.title,value:h.title,label:h.title},{default:$(()=>[X(w(h.title),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue"]),ue.value?(s(),B(fe,{key:y.value,data:ue.value},null,8,["data"])):_("",!0)])):(s(),c("div",aa,[S(fe,{data:M.value},null,8,["data"])]))]),_:1})]),_:1})):_("",!0)]),_:1})):_("",!0),S(t(je),{column:1,title:"响应结果",class:"p-5"},{default:$(()=>[S(t(ie),null,{default:$(()=>[S(t(Q),{shadow:"never"},{default:$(()=>[e.value?(s(),B(t(Xt),{key:0,modelValue:n.value,"onUpdate:modelValue":u[1]||(u[1]=h=>n.value=h),accordion:"",style:{border:"none"}},{default:$(()=>[(s(!0),c(q,null,W(e.value.responses,(h,P)=>(s(),B(t(Zt),{key:P,name:P},{title:$(()=>[X(w(P),1)]),default:$(()=>[S(fe,{data:Fe.value},null,8,["data"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])):_("",!0)]),_:1})]),_:1})]),_:1})]),i.showTest?_("",!0):(s(),c("div",ra,[d("div",oa,[S(t(Q),{shadow:"never"},{header:$(()=>u[3]||(u[3]=[d("div",{class:"font-bold"},"示例",-1)])),default:$(()=>[M.value?(s(),c("div",na,[u[4]||(u[4]=d("div",{class:"mb-3 text-sm text-gray-700 dark:text-gray-300"}," 请求示例 ",-1)),S(Ne,{ref_key:"jsonViewer",ref:D,schema:ue.value,"default-expanded":E.value},null,8,["schema","default-expanded"])])):_("",!0),J.value?(s(),c("div",la,[u[5]||(u[5]=d("div",{class:"mb-3 text-sm text-gray-700 dark:text-gray-300"}," 响应示例 ",-1)),S(Ne,{ref_key:"jsonViewer",ref:D,schema:z.value,"default-expanded":E.value},null,8,["schema","default-expanded"])])):_("",!0),!M.value&&!J.value?(s(),c("div",ia," 暂无示例数据 ")):_("",!0)]),_:1})])]))])}}}),Ta=ht(da,[["__scopeId","data-v-35ee06e5"]]);export{Ta as default};
