var De=Object.defineProperty,Ce=Object.defineProperties;var Ee=Object.getOwnPropertyDescriptors;var Z=Object.getOwnPropertySymbols;var Ae=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable;var Q=(a,s,t)=>s in a?De(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,y=(a,s)=>{for(var t in s||(s={}))Ae.call(s,t)&&Q(a,t,s[t]);if(Z)for(var t of Z(s))Re.call(s,t)&&Q(a,t,s[t]);return a},K=(a,s)=>Ce(a,Ee(s));import{d as ne,k as we,m as S,r as ae,f as Oe,x as xe,o as Ie,j as h,N as f,u as r,A as O,D as x,ag as A,i as L,a4 as Ve,V as Ne}from"../jse/index-index-D0E-L6PM.js";import{t as Me,P as Fe,u as Ue,a as ye,T as W,b as Ke,c as Le,d as He,e as Be,D as je,C as qe,f as Ye}from"./panel-time-pick-Cip_rPKp.js";import{n as Ln,o as Hn,g as Bn,h as jn,i as qn,j as Yn,k as $n,l as Gn,m as Jn,p as zn,r as Zn,s as Qn,w as Wn,q as Xn,v as ea}from"./panel-time-pick-Cip_rPKp.js";import{k as $e,l as Ge,m as Je,r as ze,n as X,aa as Ze,w as Qe}from"./bootstrap-CRjMKuhV.js";import{b as We,U as ee}from"./index-CnFn7qwi.js";import{b as Xe,i as en}from"./isArrayLikeObject-C_XRSdQS.js";import{c as H,s as te,d as nn,e as an}from"./isEqual-Dj0OCcPg.js";import{b as tn}from"./_baseFindIndex-D7XfJLKM.js";import"./index-CAxuFOzo.js";import"./browser-CXHUF2oC.js";import"./use-form-item-Cqih3n2s.js";import"./use-form-common-props-CqlcxXsB.js";import"./index-CIVoIKxb.js";import"./aria-DGfENwCE.js";import"./error-BnMaIJam.js";import"./index-Doqim9Q2.js";import"./index-BXNvgSPd.js";import"./util-B7WSBMZo.js";import"./index-DXs9ZbMc.js";function sn(){}function on(a){return a!==a}function rn(a,s,t){for(var c=t-1,d=a.length;++c<d;)if(a[c]===s)return c;return-1}function ln(a,s,t){return s===s?rn(a,s,t):tn(a,on,t)}function cn(a,s){var t=a==null?0:a.length;return!!t&&ln(a,s,0)>-1}var un=1/0,pn=H&&1/te(new H([,-0]))[1]==un?function(a){return new H(a)}:sn,dn=200;function mn(a,s,t){var c=-1,d=cn,b=a.length,o=!0,g=[],m=g;if(b>=dn){var _=pn(a);if(_)return te(_);o=!1,d=an,m=new nn}else m=g;e:for(;++c<b;){var k=a[c],T=k;if(k=k!==0?k:0,o&&T===T){for(var R=m.length;R--;)if(m[R]===T)continue e;g.push(k)}else d(m,T,t)||(m!==g&&m.push(T),g.push(k))}return g}var B=Xe(function(a){return mn(We(a,1,en,!0))});const fn=$e(K(y({},Me),{parsedValue:{type:Ge(Array)}})),bn=ne({__name:"panel-time-range",props:fn,emits:["pick","select-range","set-picker-option"],setup(a,{emit:s}){const t=a,c=(e,n)=>{const i=[];for(let l=e;l<=n;l++)i.push(l);return i},{t:d,lang:b}=ze(),o=X("time"),g=X("picker"),m=we(Fe),{arrowControl:_,disabledHours:k,disabledMinutes:T,disabledSeconds:R,defaultValue:I}=m.props,se=S(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",_),C.value?"has-seconds":""]),oe=S(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",_),C.value?"has-seconds":""]),P=S(()=>t.parsedValue[0]),D=S(()=>t.parsedValue[1]),re=Ue(t),ie=()=>{s("pick",re.value,!1)},C=S(()=>t.format.includes("ss")),j=S(()=>t.format.includes("A")?"A":t.format.includes("a")?"a":""),le=(e=!1)=>{s("pick",[P.value,D.value],e)},ce=e=>{q(e.millisecond(0),D.value)},ue=e=>{q(P.value,e.millisecond(0))},pe=e=>{const n=e.map(l=>A(l).locale(b.value)),i=$(n);return n[0].isSame(i[0])&&n[1].isSame(i[1])},q=(e,n)=>{t.visible&&s("pick",[e,n],!0)},de=S(()=>P.value>D.value),w=ae([0,2]),me=(e,n)=>{s("select-range",e,n,"min"),w.value=[e,n]},Y=S(()=>C.value?11:8),fe=(e,n)=>{s("select-range",e,n,"max");const i=r(Y);w.value=[e+i,n+i]},be=e=>{const n=C.value?[0,3,6,11,14,17]:[0,3,8,11],i=["hours","minutes"].concat(C.value?["seconds"]:[]),u=(n.indexOf(w.value[0])+e+n.length)%n.length,p=n.length/2;u<p?F.start_emitSelectRange(i[u]):F.end_emitSelectRange(i[u-p])},ge=e=>{const n=e.code,{left:i,right:l,up:u,down:p}=Ze;if([i,l].includes(n)){be(n===i?-1:1),e.preventDefault();return}if([u,p].includes(n)){const v=n===u?-1:1,E=w.value[0]<Y.value?"start":"end";F[`${E}_scrollDown`](v),e.preventDefault();return}},V=(e,n)=>{const i=k?k(e):[],l=e==="start",p=(n||(l?D.value:P.value)).hour(),v=l?c(p+1,23):c(0,p-1);return B(i,v)},N=(e,n,i)=>{const l=T?T(e,n):[],u=n==="start",p=i||(u?D.value:P.value),v=p.hour();if(e!==v)return l;const E=p.minute(),U=u?c(E+1,59):c(0,E-1);return B(l,U)},M=(e,n,i,l)=>{const u=R?R(e,n,i):[],p=i==="start",v=l||(p?D.value:P.value),E=v.hour(),U=v.minute();if(e!==E||n!==U)return u;const z=v.second(),Pe=p?c(z+1,59):c(0,z-1);return B(u,Pe)},$=([e,n])=>[G(e,"start",!0,n),G(n,"end",!1,e)],{getAvailableHours:ve,getAvailableMinutes:he,getAvailableSeconds:ke}=Ke(V,N,M),{timePickerOptions:F,getAvailableTime:G,onSetOption:J}=ye({getAvailableHours:ve,getAvailableMinutes:he,getAvailableSeconds:ke}),Te=e=>e?L(e)?e.map(n=>A(n,t.format).locale(b.value)):A(e,t.format).locale(b.value):null,Se=e=>e?L(e)?e.map(n=>n.format(t.format)):e.format(t.format):null,_e=()=>{if(L(I))return I.map(n=>A(n).locale(b.value));const e=A(I).locale(b.value);return[e,e.add(60,"m")]};return s("set-picker-option",["formatToString",Se]),s("set-picker-option",["parseUserInput",Te]),s("set-picker-option",["isValidValue",pe]),s("set-picker-option",["handleKeydownInput",ge]),s("set-picker-option",["getDefaultValue",_e]),s("set-picker-option",["getRangeAvailableTime",$]),(e,n)=>e.actualVisible?(Ie(),Oe("div",{key:0,class:f([r(o).b("range-picker"),r(g).b("panel")])},[h("div",{class:f(r(o).be("range-picker","content"))},[h("div",{class:f(r(o).be("range-picker","cell"))},[h("div",{class:f(r(o).be("range-picker","header"))},O(r(d)("el.datepicker.startTime")),3),h("div",{class:f(r(se))},[x(W,{ref:"minSpinner",role:"start","show-seconds":r(C),"am-pm-mode":r(j),"arrow-control":r(_),"spinner-date":r(P),"disabled-hours":V,"disabled-minutes":N,"disabled-seconds":M,onChange:ce,onSetOption:r(J),onSelectRange:me},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),h("div",{class:f(r(o).be("range-picker","cell"))},[h("div",{class:f(r(o).be("range-picker","header"))},O(r(d)("el.datepicker.endTime")),3),h("div",{class:f(r(oe))},[x(W,{ref:"maxSpinner",role:"end","show-seconds":r(C),"am-pm-mode":r(j),"arrow-control":r(_),"spinner-date":r(D),"disabled-hours":V,"disabled-minutes":N,"disabled-seconds":M,onChange:ue,onSetOption:r(J),onSelectRange:fe},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),h("div",{class:f(r(o).be("panel","footer"))},[h("button",{type:"button",class:f([r(o).be("panel","btn"),"cancel"]),onClick:i=>ie()},O(r(d)("el.datepicker.cancel")),11,["onClick"]),h("button",{type:"button",class:f([r(o).be("panel","btn"),"confirm"]),disabled:r(de),onClick:i=>le()},O(r(d)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):xe("v-if",!0)}});var gn=Je(bn,[["__file","panel-time-range.vue"]]);A.extend(Ye);var vn=ne({name:"ElTimePicker",install:null,props:K(y({},Le),{isRange:{type:Boolean,default:!1}}),emits:[ee],setup(a,s){const t=ae(),[c,d]=a.isRange?["timerange",gn]:["time",He],b=o=>s.emit(ee,o);return Ve(Be,a.popperOptions),s.expose({focus:()=>{var o;(o=t.value)==null||o.focus()},blur:()=>{var o;(o=t.value)==null||o.blur()},handleOpen:()=>{var o;(o=t.value)==null||o.handleOpen()},handleClose:()=>{var o;(o=t.value)==null||o.handleClose()}}),()=>{var o;const g=(o=a.format)!=null?o:je;return x(qe,Ne(a,{ref:t,type:c,format:g,"onUpdate:modelValue":b}),{default:m=>x(d,m,null)})}}});const Un=Qe(vn);export{qe as CommonPicker,Ln as DEFAULT_FORMATS_DATE,Hn as DEFAULT_FORMATS_DATEPICKER,je as DEFAULT_FORMATS_TIME,Un as ElTimePicker,Fe as PICKER_BASE_INJECTION_KEY,Be as PICKER_POPPER_OPTIONS_INJECTION_KEY,He as TimePickPanel,Bn as buildTimeList,jn as dateEquals,qn as dayOrDaysToDate,Un as default,Yn as extractDateFormat,$n as extractTimeFormat,Gn as formatter,Jn as makeList,zn as parseDate,Zn as rangeArr,Le as timePickerDefaultProps,Qn as timePickerRangeTriggerProps,Wn as timePickerRngeTriggerProps,Xn as timeUnits,ea as valueEquals};
