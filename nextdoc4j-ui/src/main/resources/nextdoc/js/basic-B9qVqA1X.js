var g=Object.defineProperty;var _=Object.getOwnPropertySymbols;var h=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var k=(t,e,a)=>e in t?g(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,s=(t,e)=>{for(var a in e||(e={}))h.call(e,a)&&k(t,a,e[a]);if(_)for(var a of _(e))x.call(e,a)&&k(t,a,e[a]);return t};var c=(t,e,a)=>new Promise((r,o)=>{var u=i=>{try{p(a.next(i))}catch(f){o(f)}},m=i=>{try{p(a.throw(i))}catch(f){o(f)}},p=i=>i.done?r(i.value):Promise.resolve(i.value).then(u,m);p((a=a.apply(t,e)).next())});import{P as d,ae as W,ax as O,n as C,a0 as E,a4 as P,Y as T,aJ as b,aq as A,aE as B,x as L,ag as v,a1 as w}from"../jse/index-index-CDB0BdC_.js";import{_ as S,a as V}from"./layout.vue_vue_type_script_setup_true_lang-CnY-biSg.js";import"./bootstrap-COFeYdxT.js";import"./load-CVFOCylj.js";import"./button.vue_vue_type_script_setup_true_lang-BbnWFFbq.js";import"./index-B7WQbBuP.js";import"./use-refresh-ClnDKZK2.js";import"./index-DBFqezpu.js";const n=d(),y=d(!1),l=d({advancedStyle:{colorStops:[{color:"gray",offset:0},{color:"gray",offset:1}],type:"linear"},content:"",contentType:"multi-line-text",globalAlpha:.25,gridLayoutOptions:{cols:2,gap:[20,20],matrix:[[1,0],[0,1]],rows:2},height:200,layout:"grid",rotate:30,width:160});function $(){function t(r){return c(this,null,function*(){var u;const{Watermark:o}=yield E(()=>c(null,null,function*(){const{Watermark:m}=yield import("./index.esm-Ofvdfudw.js");return{Watermark:m}}),[],import.meta.url);l.value=s(s({},l.value),r),n.value=new o(l.value),yield(u=n.value)==null?void 0:u.create()})}function e(r){return c(this,null,function*(){var o;n.value?(yield C(),yield(o=n.value)==null?void 0:o.changeOptions(s(s({},l.value),r))):yield t(r)})}function a(){n.value&&(n.value.destroy(),n.value=void 0)}return y.value||(y.value=!0,W(()=>{a()})),{destroyWatermark:a,updateWatermark:e,watermark:O(n)}}const j=P({__name:"basic",setup(t){const{destroyWatermark:e,updateWatermark:a}=$();return T(()=>w.app.watermark,r=>c(null,null,function*(){r?yield a({content:w.app.watermarkContent}):e()}),{immediate:!0}),(r,o)=>(A(),b(v(V),null,{"lock-screen":B(()=>[L(v(S))]),_:1}))}});export{j as default};
