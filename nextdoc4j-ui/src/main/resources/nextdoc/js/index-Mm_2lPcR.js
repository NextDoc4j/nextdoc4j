var O=Object.defineProperty,D=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var M=(n,r,l)=>r in n?O(n,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[r]=l,S=(n,r)=>{for(var l in r||(r={}))K.call(r,l)&&M(n,l,r[l]);if(E)for(var l of E(r))z.call(r,l)&&M(n,l,r[l]);return n},V=(n,r)=>D(n,F(r));import{b as J,w as _,_ as L}from"./bootstrap-atv0L1PC.js";import{M as P,a as U,b as q}from"./index-BJe3Fm9H.js";import{E as y}from"./el-button-Bn5vgylP.js";import{u as H,E as R}from"./el-input-BTcAwy7p.js";import{a4 as Y,P as j,Y as A,J as G,a6 as Q,ao as x,ar as m,aD as s,x as f,aH as h,aI as i,aE as k,ah as c,F as W,a$ as X,aq as Z,ap as ee,aJ as $}from"../jse/index-index-CJFR8bbq.js";import{u as oe}from"./use-refresh-B7g-iKYC.js";import"./index-BFHI44jr.js";import"./index-D50FwM6v.js";import"./use-form-common-props-6pqroxBi.js";const te={class:"h-full overflow-y-auto px-4 py-8 sm:px-6 lg:px-8",style:{color:"var(--el-text-color-primary)","background-color":"var(--el-bg-color)"}},se={class:"mx-auto max-w-6xl"},re={class:"mb-6 flex items-center justify-between rounded-lg p-4 shadow-sm",style:{"background-color":"var(--el-bg-color-overlay)",border:"1px solid var(--el-border-color)"}},le={class:"flex items-center text-sm text-[var(--el-text-color-regular)]"},ae={class:"grid grid-cols-1 gap-4"},ne=["onClick"],ce={class:"flex h-full w-full items-start"},de={class:"mr-4 flex h-10 w-10 items-center justify-center rounded-lg",style:{"background-color":"var(--el-color-primary-light-9)"}},ie={class:"text-[var(--el-color-primary)]"},ue={class:"flex-1"},pe={class:"flex h-10 flex-col justify-between"},me={class:"font-medium text-[var(--el-text-color-primary)]"},fe={class:"text-sm text-[var(--el-text-color-secondary)]"},ve={key:0,class:"mt-4 w-[55%] space-y-2"},_e={class:"text-sm leading-relaxed text-[var(--el-text-color-regular)]"},ye={class:"font-medium"},xe={class:"text-[var(--el-text-color-secondary)]"},he={class:"mt-2"},ke=Y({name:"Authorize",__name:"index",setup(n){const r=J(),l=H(),{refresh:T}=oe(),g=j({});A(()=>r.openApi,o=>{var t,a;const e=(a=(t=o==null?void 0:o.components)==null?void 0:t.securitySchemes)!=null?a:{};g.value=Object.fromEntries(Object.entries(e).map(([p,v])=>{var C;return[p,V(S({},v),{fold:(C=v.fold)!=null?C:!1})]}))},{immediate:!0,deep:!0});const d=j(l.token),w=o=>o.in?o.in:(o.type==="http","header"),u=(o,e)=>`${o}_${w(e)}`,b=(o,e)=>{l.setToken(o,e),T()},B=o=>{o.fold=!o.fold},N=G(()=>{let o=0;return Object.keys(d.value).forEach(e=>{d.value[e]&&o++}),o}),I=()=>{Object.keys(d.value).forEach(o=>{b(null,o)})};return Q(()=>{}),(o,e)=>(m(),x("div",te,[s("div",se,[e[7]||(e[7]=s("div",{class:"mb-8"},[s("h1",{class:"mb-2 text-2xl font-bold text-[var(--el-text-color-primary)]"}," 全局认证配置 "),s("p",{class:"text-[var(--el-text-color-secondary)]"}," 当前认证方式由 SpringDoc 配置自动生成。 启用全局认证后，请求将自动携带对应的认证信息，可按需配置不同类型的认证。 ")],-1)),s("div",re,[s("div",le,[e[3]||(e[3]=s("span",{class:"mr-2 h-2 w-2 rounded-full bg-[var(--el-color-success)]"},null,-1)),h(" 已选择 "+i(N.value)+" 个认证方式 ",1)]),f(c(y),{class:"text-sm transition-colors",plain:"",type:"danger",onClick:I},{default:k(()=>e[4]||(e[4]=[h(" 清除全部认证 ")])),_:1,__:[4]})]),s("div",ae,[(m(!0),x(W,null,X(g.value,(t,a)=>(m(),x("div",{class:Z(["relative cursor-pointer overflow-hidden rounded-lg border-2 p-4 shadow-sm transition-all hover:shadow-md",[d.value[u(a,t)]?"border-[var(--el-color-primary-light-5)]":"border-[var(--el-border-color)]"]]),style:{color:"var(--el-text-color-primary)","background-color":"var(--el-bg-color-overlay)"},key:a,onClick:p=>B(t)},[s("div",ce,[s("div",de,[s("i",ie,[f(c(P))])]),s("div",ue,[s("div",pe,[s("h3",me,i(a)+"（"+i(t.type)+" "+i(t.scheme?`, ${t.scheme}`:t.scheme)+"） ",1),s("p",fe,i(t.description),1)]),t.fold?(m(),x("div",ve,[s("p",_e,[s("span",ye,i(t.name),1),s("span",xe," （字段："+i(w(t))+"） ",1)]),f(c(R),{placeholder:"请输入",modelValue:d.value[u(a,t)],"onUpdate:modelValue":p=>d.value[u(a,t)]=p,modelModifiers:{trim:!0},onClick:e[0]||(e[0]=_(()=>{},["stop"])),onKeydown:e[1]||(e[1]=_(()=>{},["stop"])),onKeyup:e[2]||(e[2]=_(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"]),s("div",he,[f(c(y),{type:"primary",plain:"",onClick:_(p=>{var v;return b((v=d.value[u(a,t)])!=null?v:null,u(a,t))},["stop"])},{default:k(()=>e[5]||(e[5]=[h(" 确定 ")])),_:2,__:[5]},1032,["onClick"]),f(c(y),{type:"primary",plain:"",onClick:_(p=>b(null,u(a,t)),["stop"])},{default:k(()=>e[6]||(e[6]=[h(" 清除 ")])),_:2,__:[6]},1032,["onClick"])])])):ee("",!0)]),f(c(y),{circle:""},{default:k(()=>[t.fold?(m(),$(c(U),{key:0})):(m(),$(c(q),{key:1}))]),_:2},1024)])],10,ne))),128))])])]))}}),Te=L(ke,[["__scopeId","data-v-5b659b09"]]);export{Te as default};
