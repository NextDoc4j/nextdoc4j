var Xe=Object.defineProperty,Ze=Object.defineProperties;var et=Object.getOwnPropertyDescriptors;var Ne=Object.getOwnPropertySymbols;var tt=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable;var je=(v,l,t)=>l in v?Xe(v,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):v[l]=t,U=(v,l)=>{for(var t in l||(l={}))tt.call(l,t)&&je(v,t,l[t]);if(Ne)for(var t of Ne(l))st.call(l,t)&&je(v,t,l[t]);return v},W=(v,l)=>Ze(v,et(l));var he=(v,l,t)=>new Promise((w,e)=>{var b=u=>{try{f(t.next(u))}catch(x){e(x)}},C=u=>{try{f(t.throw(u))}catch(x){e(x)}},f=u=>u.done?w(u.value):Promise.resolve(u.value).then(b,C);f((t=t.apply(v,l)).next())});import{d as ae,e as se,f as ne,g as ee,h as pe,i as at,m as nt,j as rt,T as ot,k as lt,l as it,E as dt,n as ut,w as ct,v as pt,o as Me,p as ge,q as mt,r as ft,s as Te,$ as Ae,_ as ke,t as yt,b as vt}from"./bootstrap-ZEN0OeEP.js";import{A as ht,c as gt,d as bt}from"./index-UShHmpll.js";import"./load-COJZcUSW.js";import{C as Le,U as Fe,t as _t,E as Ie}from"./el-button-CWK0_Of5.js";import{c as Pe,g as xt,f as kt,E as _e,a as $t,b as wt}from"./el-popper-YfubH8JY.js";import{g as Re,r as re}from"./schema-DARJWskz.js";import{a4 as K,an as o,aq as s,ao as g,aD as i,ap as T,ag as r,aB as Q,aH as X,aI as _,aG as xe,a as Ct,d as St,P as R,Y as qe,J as $,av as ze,b0 as Be,aJ as D,aE as j,aC as Et,b1 as Nt,R as $e,x as A,aK as jt,aF as ce,k as oe,F as B,a$ as q,aj as Tt,b2 as At,aP as Ue,a1 as It,b3 as Pt}from"../jse/index-index-Cr6zrOyM.js";import{p as Bt,g as Ht,_ as He}from"./parameter-view.vue_vue_type_script_setup_true_lang-D_EHcMcx.js";import{S as Ot}from"./index-7jijtDQ_.js";import{m as le}from"./methods-WRGAQ8mz.js";import{_ as Dt}from"./path-segment.vue_vue_type_script_setup_true_lang-Dnvd1uV7.js";import Vt from"./security-view-CEM3n5tL.js";import{u as Kt}from"./use-form-common-props-Bfk35qi1.js";import{u as Mt}from"./index-DlLUTOw4.js";import"./index-C74taGvj.js";import"./el-tag-DDQd7W5n.js";const Lt=ae({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:se([String,Object,Array]),default:""},headerClass:String,bodyClass:String,footerClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),Ft=K({name:"ElCard"}),Rt=K(W(U({},Ft),{props:Lt,setup(v){const l=ee("card");return(t,w)=>(s(),o("div",{class:T([r(l).b(),r(l).is(`${t.shadow}-shadow`)])},[t.$slots.header||t.header?(s(),o("div",{key:0,class:T([r(l).e("header"),t.headerClass])},[Q(t.$slots,"header",{},()=>[X(_(t.header),1)])],2)):g("v-if",!0),i("div",{class:T([r(l).e("body"),t.bodyClass]),style:xe(t.bodyStyle)},[Q(t.$slots,"default")],6),t.$slots.footer||t.footer?(s(),o("div",{key:1,class:T([r(l).e("footer"),t.footerClass])},[Q(t.$slots,"footer",{},()=>[X(_(t.footer),1)])],2)):g("v-if",!0)],2))}}));var qt=ne(Rt,[["__file","card.vue"]]);const Z=pe(qt),Oe=v=>at(v)||Ct(v)||St(v),zt=ae({accordion:Boolean,modelValue:{type:se([Array,String,Number]),default:()=>nt([])},expandIconPosition:{type:se([String]),default:"right"},beforeCollapse:{type:se(Function)}}),Ut={[Fe]:Oe,[Le]:Oe},We=Symbol("collapseContextKey"),Wt="ElCollapse",Jt=(v,l)=>{const t=R(Pe(v.modelValue)),w=C=>{t.value=C;const f=v.accordion?t.value[0]:t.value;l(Fe,f),l(Le,f)},e=C=>{if(v.accordion)w([t.value[0]===C?"":C]);else{const f=[...t.value],u=f.indexOf(C);u>-1?f.splice(u,1):f.push(C),w(f)}},b=C=>he(null,null,function*(){const{beforeCollapse:f}=v;if(!f){e(C);return}const u=f(C);[Be(u),rt(u)].includes(!0)||_t(Wt,"beforeCollapse must return type `Promise<boolean>` or `boolean`"),Be(u)?u.then(a=>{a!==!1&&e(C)}).catch(a=>{}):u&&e(C)});return qe(()=>v.modelValue,()=>t.value=Pe(v.modelValue),{deep:!0}),ze(We,{activeNames:t,handleItemClick:b}),{activeNames:t,setActiveNames:w}},Gt=v=>{const l=ee("collapse");return{rootKls:$(()=>[l.b(),l.b(`icon-position-${v.expandIconPosition}`)])}},Qt=K({name:"ElCollapse"}),Yt=K(W(U({},Qt),{props:zt,emits:Ut,setup(v,{expose:l,emit:t}){const w=v,{activeNames:e,setActiveNames:b}=Jt(w,t),{rootKls:C}=Gt(w);return l({activeNames:e,setActiveNames:b}),(f,u)=>(s(),o("div",{class:T(r(C))},[Q(f.$slots,"default")],2))}}));var Xt=ne(Yt,[["__file","collapse.vue"]]);const Zt=K({name:"ElCollapseTransition"}),es=K(W(U({},Zt),{setup(v){const l=ee("collapse-transition"),t=e=>{e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},w={beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height&&(e.dataset.elExistsHeight=e.style.height),e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){requestAnimationFrame(()=>{e.dataset.oldOverflow=e.style.overflow,e.dataset.elExistsHeight?e.style.maxHeight=e.dataset.elExistsHeight:e.scrollHeight!==0?e.style.maxHeight=`${e.scrollHeight}px`:e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"})},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},enterCancelled(e){t(e)},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){e.scrollHeight!==0&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){t(e)},leaveCancelled(e){t(e)}};return(e,b)=>(s(),D(ot,Et({name:r(l).b()},Nt(w)),{default:j(()=>[Q(e.$slots,"default")]),_:3},16,["name"]))}}));var ts=ne(es,[["__file","collapse-transition.vue"]]);const ss=pe(ts),as=ae({title:{type:String,default:""},name:{type:se([String,Number]),default:void 0},icon:{type:it,default:lt},disabled:Boolean}),ns=v=>{const l=$e(We),{namespace:t}=ee("collapse"),w=R(!1),e=R(!1),b=Mt(),C=$(()=>b.current++),f=$(()=>{var k;return(k=v.name)!=null?k:`${t.value}-id-${b.prefix}-${r(C)}`}),u=$(()=>l==null?void 0:l.activeNames.value.includes(r(f)));return{focusing:w,id:C,isActive:u,handleFocus:()=>{setTimeout(()=>{e.value?e.value=!1:w.value=!0},50)},handleHeaderClick:k=>{if(v.disabled)return;const E=k.target;E!=null&&E.closest("input, textarea, select")||(l==null||l.handleItemClick(r(f)),w.value=!1,e.value=!0)},handleEnterClick:k=>{const E=k.target;E!=null&&E.closest("input, textarea, select")||(k.preventDefault(),l==null||l.handleItemClick(r(f)))}}},rs=(v,{focusing:l,isActive:t,id:w})=>{const e=ee("collapse"),b=$(()=>[e.b("item"),e.is("active",r(t)),e.is("disabled",v.disabled)]),C=$(()=>[e.be("item","header"),e.is("active",r(t)),{focusing:r(l)&&!v.disabled}]),f=$(()=>[e.be("item","arrow"),e.is("active",r(t))]),u=$(()=>[e.be("item","title")]),x=$(()=>e.be("item","wrap")),a=$(()=>e.be("item","content")),p=$(()=>e.b(`content-${r(w)}`)),k=$(()=>e.b(`head-${r(w)}`));return{itemTitleKls:u,arrowKls:f,headKls:C,rootKls:b,itemWrapperKls:x,itemContentKls:a,scopedContentId:p,scopedHeadId:k}},os=K({name:"ElCollapseItem"}),ls=K(W(U({},os),{props:as,setup(v,{expose:l}){const t=v,{focusing:w,id:e,isActive:b,handleFocus:C,handleHeaderClick:f,handleEnterClick:u}=ns(t),{arrowKls:x,headKls:a,rootKls:p,itemTitleKls:k,itemWrapperKls:E,itemContentKls:P,scopedContentId:H,scopedHeadId:c}=rs(t,{focusing:w,isActive:b,id:e});return l({isActive:b}),(S,N)=>(s(),o("div",{class:T(r(p))},[i("div",{id:r(c),class:T(r(a)),"aria-expanded":r(b),"aria-controls":r(H),"aria-describedby":r(H),tabindex:S.disabled?-1:0,role:"button",onClick:r(f),onKeydown:ut(ct(r(u),["stop"]),["space","enter"]),onFocus:r(C),onBlur:I=>w.value=!1},[i("span",{class:T(r(k))},[Q(S.$slots,"title",{isActive:r(b)},()=>[X(_(S.title),1)])],2),Q(S.$slots,"icon",{isActive:r(b)},()=>[A(r(dt),{class:T(r(x))},{default:j(()=>[(s(),D(jt(S.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),A(r(ss),null,{default:j(()=>[ce(i("div",{id:r(H),role:"region",class:T(r(E)),"aria-hidden":!r(b),"aria-labelledby":r(c)},[i("div",{class:T(r(P))},[Q(S.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[pt,r(b)]])]),_:3})],2))}}));var Je=ne(ls,[["__file","collapse-item.vue"]]);const is=pe(Xt,{CollapseItem:Je}),ds=Me(Je),we=Symbol("elDescriptions");var ie=K({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:$e(we,{})}},render(){var v;const l=xt(this.cell),t=(((v=this.cell)==null?void 0:v.dirs)||[]).map(S=>{const{dir:N,arg:I,modifiers:O,value:L}=S;return[N,L,I,O]}),{border:w,direction:e}=this.descriptions,b=e==="vertical",C=()=>{var S,N,I;return((I=(N=(S=this.cell)==null?void 0:S.children)==null?void 0:N.label)==null?void 0:I.call(N))||l.label},f=()=>{var S,N,I;return(I=(N=(S=this.cell)==null?void 0:S.children)==null?void 0:N.default)==null?void 0:I.call(N)},u=l.span,x=l.rowspan,a=l.align?`is-${l.align}`:"",p=l.labelAlign?`is-${l.labelAlign}`:a,k=l.className,E=l.labelClassName,P=this.type==="label"&&(l.labelWidth||this.descriptions.labelWidth)||l.width,H={width:ge(P),minWidth:ge(l.minWidth)},c=ee("descriptions");switch(this.type){case"label":return ce(oe(this.tag,{style:H,class:[c.e("cell"),c.e("label"),c.is("bordered-label",w),c.is("vertical-label",b),p,E],colSpan:b?u:1,rowspan:b?1:x},C()),t);case"content":return ce(oe(this.tag,{style:H,class:[c.e("cell"),c.e("content"),c.is("bordered-content",w),c.is("vertical-content",b),a,k],colSpan:b?u:u*2-1,rowspan:b?x*2-1:x},f()),t);default:{const S=C(),N={},I=ge(l.labelWidth||this.descriptions.labelWidth);return I&&(N.width=I,N.display="inline-block"),ce(oe("td",{style:H,class:[c.e("cell"),a],colSpan:u,rowspan:x},[mt(S)?void 0:oe("span",{style:N,class:[c.e("label"),E]},S),oe("span",{class:[c.e("content"),k]},f())]),t)}}}});const us=ae({row:{type:se(Array),default:()=>[]}}),cs=K({name:"ElDescriptionsRow"}),ps=K(W(U({},cs),{props:us,setup(v){const l=$e(we,{});return(t,w)=>r(l).direction==="vertical"?(s(),o(B,{key:0},[i("tr",null,[(s(!0),o(B,null,q(t.row,(e,b)=>(s(),D(r(ie),{key:`tr1-${b}`,cell:e,tag:"th",type:"label"},null,8,["cell"]))),128))]),i("tr",null,[(s(!0),o(B,null,q(t.row,(e,b)=>(s(),D(r(ie),{key:`tr2-${b}`,cell:e,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(s(),o("tr",{key:1},[(s(!0),o(B,null,q(t.row,(e,b)=>(s(),o(B,{key:`tr3-${b}`},[r(l).border?(s(),o(B,{key:0},[A(r(ie),{cell:e,tag:"td",type:"label"},null,8,["cell"]),A(r(ie),{cell:e,tag:"td",type:"content"},null,8,["cell"])],64)):(s(),D(r(ie),{key:1,cell:e,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}}));var ms=ne(ps,[["__file","descriptions-row.vue"]]);const fs=ae({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:ft,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number],default:""}}),Ge="ElDescriptionsItem",ys=K({name:"ElDescriptions"}),vs=K(W(U({},ys),{props:fs,setup(v){const l=v,t=ee("descriptions"),w=Kt(),e=Tt();ze(we,l);const b=$(()=>[t.b(),t.m(w.value)]),C=(u,x,a,p=!1)=>(u.props||(u.props={}),x>a&&(u.props.span=a),p&&(u.props.span=x),u),f=()=>{if(!e.default)return[];const u=kt(e.default()).filter(P=>{var H;return((H=P==null?void 0:P.type)==null?void 0:H.name)===Ge}),x=[];let a=[],p=l.column,k=0;const E=[];return u.forEach((P,H)=>{var c,S,N;const I=((c=P.props)==null?void 0:c.span)||1,O=((S=P.props)==null?void 0:S.rowspan)||1,L=x.length;if(E[L]||(E[L]=0),O>1)for(let J=1;J<O;J++)E[N=L+J]||(E[N]=0),E[L+J]++,k++;if(E[L]>0&&(p-=E[L],E[L]=0),H<u.length-1&&(k+=I>p?p:I),H===u.length-1){const J=l.column-k%l.column;a.push(C(P,J,p,!0)),x.push(a);return}I<p?(p-=I,a.push(P)):(a.push(C(P,I,p)),x.push(a),p=l.column,a=[])}),x};return(u,x)=>(s(),o("div",{class:T(r(b))},[u.title||u.extra||u.$slots.title||u.$slots.extra?(s(),o("div",{key:0,class:T(r(t).e("header"))},[i("div",{class:T(r(t).e("title"))},[Q(u.$slots,"title",{},()=>[X(_(u.title),1)])],2),i("div",{class:T(r(t).e("extra"))},[Q(u.$slots,"extra",{},()=>[X(_(u.extra),1)])],2)],2)):g("v-if",!0),i("div",{class:T(r(t).e("body"))},[i("table",{class:T([r(t).e("table"),r(t).is("bordered",u.border)])},[i("tbody",null,[(s(!0),o(B,null,q(f(),(a,p)=>(s(),D(ms,{key:p,row:a},null,8,["row"]))),128))])],2)],2)],2))}}));var hs=ne(vs,[["__file","description.vue"]]);const De=["left","center","right"],gs=ae({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number],default:""},align:{type:String,values:De,default:"left"},labelAlign:{type:String,values:De},className:{type:String,default:""},labelClassName:{type:String,default:""}}),Qe=K({name:Ge,props:gs}),Ve=pe(hs,{DescriptionsItem:Qe}),ue=Me(Qe),bs={class:"node-header"},_s={class:"count-label"},xs={key:0,class:"preview-separator"},ks={key:0,class:"preview-empty"},$s={class:"key-name"},ws=["innerHTML"],Cs={key:2,class:"preview-separator"},Ss={key:2,class:"comma"},Es={key:3,class:"field-description"},Ns={class:"comment-content"},js={key:0,class:"node-content"},Ts={class:"node-footer"},As={class:"bracket"},Is={key:0,class:"comma"},Ps={key:1,class:"node-primitive"},Bs=["innerHTML"],Hs={key:1,class:"comma"},Os={key:2,class:"field-description"},Ds={class:"comment-content"},Vs=K({__name:"json-node",props:{defaultExpanded:{type:Boolean},depth:{},isLastItem:{type:Boolean},keyName:{},parentSchema:{},schema:{},value:{}},setup(v,{expose:l}){const t=v,w=R([]),e=R(t.defaultExpanded),{copy:b,copied:C}=At({legacy:!0}),f=$(()=>t.value===null?"null":Array.isArray(t.value)?"array":typeof t.value),u=$(()=>f.value==="object"||f.value==="array"),x=$(()=>f.value==="array"?t.value.length:f.value==="object"?Object.keys(t.value).length:0),a=$(()=>{if(!e.value||x.value===0)return"";const d=x.value;return f.value==="array"?`${d} element${d===1?"":"s"}`:`${d} entr${d===1?"y":"ies"}`}),p=$(()=>f.value==="array"?"[":"{"),k=$(()=>f.value==="array"?"]":"}"),E=$(()=>!t.parentSchema||t.keyName===null?t.schema:t.parentSchema.type==="array"&&t.parentSchema.items?t.parentSchema.items:t.parentSchema.properties&&t.parentSchema.properties[t.keyName]?t.parentSchema.properties[t.keyName]:null),P=$(()=>{const d=E.value;if(!d)return null;const n=d.description||"",m=Bt(d);return m?n?`${n} (${m})`:`(${m})`:n||null});function H(d){const n=String(d),[m,y]=n.split("."),h=m.replaceAll(/\B(?=(\d{3})+(?!\d))/g,'<span class="num-delim"></span>');return y?`${h}.${y}`:h}function c(d,n=!1){if(d===null)return{text:"null",class:"value-null"};if(d===void 0)return{text:"undefined",class:"value-undefined"};if(typeof d=="string")return{text:`"${d}"`,class:"value-string"};if(typeof d=="boolean")return{text:String(d),class:"value-boolean"};if(typeof d=="number")return{text:H(d),class:"value-number",isHtml:!0};if(Array.isArray(d)){if(n&&d.length>0){const m=Math.min(d.length,4),y=Array.from({length:m}).fill("{…}"),h=d.length>4?`, … ${d.length-4} more`:"";return{text:`[${y.join(", ")}${h}]`,class:"value-array"}}return{text:"[…]",class:"value-array"}}return typeof d=="object"?{text:"{…}",class:"value-object"}:{text:String(d),class:""}}const S=$(()=>{if(f.value!=="array"||x.value===0)return[];const d=x.value,n=Math.min(d,4),m=Array.from({length:n}).fill(null).map(()=>({text:"{…}",class:"value-object"}));return d>4&&m.push({text:`… ${d-4} more`,class:"preview-more",isMore:!0}),m}),N=$(()=>{if(f.value!=="object")return[];const d=t.value,n=Object.keys(d);if(n.length===0)return[];const m=n.slice(0,4).map(y=>({key:y,value:c(d[y],!0),isMore:null}));return n.length>4&&m.push({key:"",value:{text:`… ${n.length-4} more`,class:"preview-more"},isMore:!0}),m}),I=$(()=>{const d=t.value;return d===null?"null":d===void 0?"undefined":typeof d=="string"?`"${d}"`:typeof d=="boolean"?String(d):typeof d=="number"?H(d):String(d)}),O=$(()=>`value-${f.value}`),L=$(()=>typeof t.keyName=="number"?"key-index":"key-name"),J=$(()=>f.value==="array"?Array.from({length:x.value},(d,n)=>n):f.value==="object"?Object.keys(t.value):[]),F=$(()=>u.value&&e.value&&x.value>0);function Y(){e.value=!e.value}function me(){u.value&&(e.value=!0,w.value.forEach(d=>{var n;return(n=d.expandAll)==null?void 0:n.call(d)}))}function fe(){u.value&&(t.depth>0&&(e.value=!1),w.value.forEach(d=>{var n;return(n=d.collapseAll)==null?void 0:n.call(d)}))}function ye(){return he(this,null,function*(){const d=JSON.stringify(t.value,null,2);yield b(d),C.value?Te({duration:1500,type:"success",message:`${Ae("common.copySuccess")}`}):Te({duration:1500,type:"error",message:`${Ae("common.copyFailed")}`})})}return l({expandAll:me,collapseAll:fe}),(d,n)=>{const m=Ue("JsonNode",!0);return s(),o("div",{class:T(["json-node",{"has-collapse-btn":F.value}])},[u.value?(s(),o(B,{key:0},[i("div",bs,[d.keyName!==null&&typeof d.keyName!="number"?(s(),o("div",{key:0,class:T(["key-wrapper",L.value])},[i("span",null,_(d.keyName),1),n[0]||(n[0]=i("span",{class:"preview-colon"},": ",-1))],2)):g("",!0),i("span",{class:"bracket",onClick:Y},_(p.value),1),e.value&&x.value>0?(s(),o(B,{key:1},[i("button",{class:"json-btn-collapse collapse-btn",onClick:Y}),i("button",{class:"json-btn-copy collapse-btn",onClick:ye}),i("span",_s,_(a.value),1)],64)):g("",!0),e.value?g("",!0):(s(),o(B,{key:2},[f.value==="array"?(s(),o("span",{key:0,class:"preview-container",onClick:Y},[(s(!0),o(B,null,q(S.value,(y,h)=>(s(),o(B,{key:h},[i("span",{class:T(y.class)},_(y.text),3),h<S.value.length-1?(s(),o("span",xs,", ")):g("",!0)],64))),128))])):f.value==="object"?(s(),o("span",{key:1,class:"preview-container",onClick:Y},[N.value.length===0?(s(),o("span",ks,"empty")):(s(!0),o(B,{key:1},q(N.value,(y,h)=>(s(),o(B,{key:h},[y.isMore?(s(),o("span",{key:1,class:T(y.value.class)},_(y.value.text),3)):(s(),o(B,{key:0},[i("span",$s,_(y.key),1),n[1]||(n[1]=i("span",{class:"preview-colon"},": ",-1)),y.value.isHtml?(s(),o("span",{key:0,class:T(y.value.class),innerHTML:y.value.text},null,10,ws)):(s(),o("span",{key:1,class:T(y.value.class)},_(y.value.text),3))],64)),h<N.value.length-1?(s(),o("span",Cs,", ")):g("",!0)],64))),128))])):g("",!0),i("span",{class:"bracket",onClick:Y},_(k.value),1),!d.isLastItem&&d.depth>0?(s(),o("span",Ss,",")):g("",!0)],64)),P.value&&(e.value||x.value===0)?(s(),o("span",Es,[n[2]||(n[2]=i("span",{class:"comment-prefix"},"//",-1)),i("span",Ns,_(P.value),1)])):g("",!0)]),e.value?(s(),o("div",js,[n[3]||(n[3]=i("div",{class:"vertical-line"},null,-1)),(s(!0),o(B,null,q(J.value,(y,h)=>(s(),D(m,{key:y,ref_for:!0,ref_key:"childNodes",ref:w,value:(f.value==="array",d.value[y]),"key-name":y,depth:d.depth+1,"default-expanded":d.defaultExpanded,"is-last-item":h===J.value.length-1,"parent-schema":E.value,style:{"padding-left":"32px"}},null,8,["value","key-name","depth","default-expanded","is-last-item","parent-schema"]))),128)),i("div",Ts,[i("span",As,_(k.value),1),!d.isLastItem&&d.depth>0?(s(),o("span",Is,",")):g("",!0)])])):g("",!0)],64)):(s(),o("div",Ps,[d.keyName!==null?(s(),o("span",{key:0,class:T(["key-wrapper",L.value])},[i("span",null,_(d.keyName),1),n[4]||(n[4]=i("span",null,": ",-1))],2)):g("",!0),i("span",{class:T(O.value),innerHTML:I.value},null,10,Bs),d.isLastItem?g("",!0):(s(),o("span",Hs,",")),P.value?(s(),o("span",Os,[n[5]||(n[5]=i("span",{class:"comment-prefix"},"//",-1)),i("span",Ds,_(P.value),1)])):g("",!0)]))],2)}}}),Ks=ke(Vs,[["__scopeId","data-v-7afa63fa"]]),Ms={key:0,class:"json-error"},Ls={key:1,class:"json-empty"},Fs=K({__name:"index",props:{defaultExpanded:{type:Boolean,default:!0},schema:{}},setup(v,{expose:l}){const t=v,w=R(null),e=$(()=>{if(!t.schema)return null;try{return Re(t.schema)}catch(u){return console.error("Failed to generate example from schema:",u),null}}),b=$(()=>e.value===null&&t.schema?"Invalid schema format":null);function C(){var u;(u=w.value)==null||u.expandAll()}function f(){var u;(u=w.value)==null||u.collapseAll()}return l({expandAll:C,collapseAll:f}),(u,x)=>(s(),o("div",{class:T(["overflow-auto rounded p-4 font-mono text-sm",`theme-${r(It).theme.mode}`])},[b.value?(s(),o("div",Ms,[x[0]||(x[0]=i("span",{class:"text-sm"},"⚠️",-1)),i("span",null,_(b.value),1)])):e.value?(s(),D(Ks,{key:2,ref_key:"rootNode",ref:w,value:e.value,"key-name":null,depth:0,"default-expanded":u.defaultExpanded,schema:u.schema,"parent-schema":null},null,8,["value","default-expanded","schema"])):(s(),o("div",Ls,x[1]||(x[1]=[i("span",null,"暂无数据",-1)])))],2))}}),Ke=ke(Fs,[["__scopeId","data-v-b57fe610"]]),Rs={key:0,class:"flex items-center gap-2"},qs={class:"text-primary font-mono text-base font-bold"},zs={key:0,class:"flex rounded-md bg-gray-100/50 px-1.5 py-0.5 font-mono text-xs font-bold text-gray-600 dark:bg-white/5 dark:text-gray-200"},Us={key:0},Ws={class:"flex items-center gap-2"},Js={class:"flex items-center gap-2"},Gs={class:"text-primary font-mono text-base font-bold"},Qs={key:0,class:"flex rounded-md bg-gray-100/50 px-1.5 py-0.5 font-mono text-xs font-bold text-gray-600 dark:bg-white/5 dark:text-gray-200"},Ys={class:"flex items-center"},Xs={key:0},Zs={key:0,class:"ml-1 text-xs text-gray-600 dark:text-gray-400"},ea={key:1,class:"flex rounded-md bg-gray-100/50 px-1.5 py-0.5 font-mono text-xs font-bold text-gray-600 dark:bg-white/5 dark:text-gray-200"},ta={key:0,class:"ml-1 text-xs text-gray-600 dark:text-gray-400"},sa={key:2,class:"flex items-center rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},aa={class:"max-w-24 truncate font-mono"},na={key:3,class:"flex items-center rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},ra={class:"font-mono"},oa={key:4,class:"flex items-center rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},la={class:"font-mono"},ia={key:5,class:"flex items-center rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},da={class:"max-w-24 truncate font-mono"},ua={key:6,class:"rounded-md bg-red-100/50 px-1.5 py-0.5 text-xs font-bold text-red-600 dark:bg-red-400/10 dark:text-red-300"},ca={key:7,class:"rounded-md bg-green-100/50 px-1.5 py-0.5 text-xs font-bold text-green-600 dark:bg-green-400/10 dark:text-green-300"},pa={key:0,class:"mt-4 text-gray-600 dark:text-gray-400"},ma=["innerHTML"],fa={key:2,class:"mt-4"},ya={class:"flex flex-wrap gap-2"},va={class:"text-primary font-mono font-semibold"},ha={key:0,class:"text-gray-600 dark:text-gray-400"},ga={key:3,class:"mt-6 flex items-center"},ba={class:"font-mono"},_a={key:4,class:"ml-8 overflow-hidden transition-all duration-200"},be=K({name:"SchemaView",__name:"schema-view",props:{data:{}},setup(v){const l=R({}),t=a=>{var p;return a.type==="object"&&a.properties?Object.keys(a.properties).length>0:a.type==="array"&&((p=a.items)==null?void 0:p.type)==="object"},w=a=>{var p;return!a.type||a.type==="object"?a.properties||{}:a.type==="array"&&((p=a.items)==null?void 0:p.type)==="object"?a.items.properties||{}:{}},e=(a,p)=>{t(p)&&(l.value[a]=!l.value[a])},b=a=>a.enum?`enum<${a.type}>`:a.type,C=a=>{const p=a.schema||a,k=[];return p.minLength!==void 0&&k.push(`>=${p.minLength}${p.type==="string"?" 字符":""}`),p.maxLength!==void 0&&k.push(`<=${p.maxLength}${p.type==="string"?" 字符":""}`),p.minimum!==void 0&&k.push(`>=${p.minimum}`),p.maximum!==void 0&&k.push(`<=${p.maximum}`),k.join(" 或 ")},f=a=>a==null?void 0:a.includes("<"),u=a=>Ht(a),x=a=>u(a).some(k=>k.description);return(a,p)=>{var E,P,H;const k=Ue("SchemaView",!0);return((E=a.data)==null?void 0:E.type)==="array"&&((H=(P=a.data)==null?void 0:P.items)==null?void 0:H.type)!=="object"?(s(),o("div",Rs,[i("span",qs,_(a.data.type),1),a.data.items.type?(s(),o("div",zs,[i("span",null,_(a.data.items.type),1),a.data.items.format?(s(),o("span",Us,_(`<${a.data.items.format}>`),1)):g("",!0)])):g("",!0)])):(s(!0),o(B,{key:1},q(w(a.data),(c,S)=>{var N,I;return s(),o("div",{key:S,class:"border-b border-gray-100 py-6 last:border-b-0 last:pb-0 dark:border-gray-800"},[i("div",Ws,[t(c)?(s(),D(r(Ot),{key:0,class:T([{"rotate-90":!l.value[S],"cursor-pointer":t(c)},"size-4 transition-transform"]),onClick:O=>e(String(S),c)},null,8,["class","onClick"])):g("",!0),i("div",Js,[i("span",Gs,_(S),1),b(c)?(s(),o("div",Qs,[i("div",Ys,[i("div",null,_(b(c)),1),c.title?(s(),o("span",Xs,_(`<${c.title}>`),1)):g("",!0)]),c.format?(s(),o("span",Zs,_(`<${c.format}>`),1)):g("",!0)])):g("",!0),c.type==="array"?(s(),o("div",ea,[i("div",null,[i("span",null,_(c.items.type)+"["+_(c.items.title)+"]",1),c.format?(s(),o("span",ta,_(`<${c.format}>`),1)):g("",!0)])])):g("",!0),!t(c)&&c.example?(s(),o("div",sa,[p[0]||(p[0]=i("span",{class:"mr-0.5 text-gray-400 dark:text-gray-500"},"示例值:",-1)),A(r(_e),{placement:"top",content:String(c.example)},{default:j(()=>[i("span",aa,_(c.example),1)]),_:2},1032,["content"])])):g("",!0),!t(c)&&c.default?(s(),o("div",na,[p[1]||(p[1]=i("span",{class:"mr-0.5 text-gray-400 dark:text-gray-500"},"默认值:",-1)),i("span",ra,_(c.default),1)])):g("",!0),C(c)?(s(),o("div",oa,[p[2]||(p[2]=i("span",{class:"mr-0.5 text-gray-400 dark:text-gray-500"}," 取值范围: ",-1)),i("span",la,_(C(c)),1)])):g("",!0),c.pattern?(s(),o("div",ia,[p[3]||(p[3]=i("span",{class:"mr-0.5 text-gray-400 dark:text-gray-500"}," 正则匹配: ",-1)),A(r(_e),{placement:"top",content:String(c.pattern)},{default:j(()=>[i("span",da,_(c.pattern),1)]),_:2},1032,["content"])])):g("",!0),(I=(N=a.data)==null?void 0:N.required)!=null&&I.includes(S)?(s(),o("div",ua," 必须 ")):(s(),o("div",ca," 可选 "))])]),c.description&&!f(c.description)?(s(),o("div",pa,_(c.description),1)):g("",!0),c.description&&f(c.description)?(s(),o("div",{key:1,class:"mt-4 text-sm text-gray-600 dark:text-gray-400",innerHTML:c.description},null,8,ma)):g("",!0),x(c)?(s(),o("div",fa,[p[4]||(p[4]=i("div",{class:"mb-2 text-xs font-medium text-gray-600 dark:text-gray-400"}," 可用值: ",-1)),i("div",ya,[(s(!0),o(B,null,q(u(c),O=>(s(),o("div",{key:O.value,class:"bg-primary/5 inline-flex items-center gap-1.5 rounded-md px-2.5 py-1.5 text-xs"},[i("span",va,_(O.value),1),O.description?(s(),o("span",ha," - "+_(O.description),1)):g("",!0)]))),128))])])):c.enum?(s(),o("div",ga,[p[5]||(p[5]=i("span",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"}," 可用值: ",-1)),(s(!0),o(B,null,q(c.enum,O=>(s(),o("div",{key:O,class:"mr-2 rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},[i("span",ba,_(O),1)]))),128))])):g("",!0),t(c)&&!l.value[S]?(s(),o("div",_a,[A(k,{data:c},null,8,["data"])])):g("",!0)])}),128))}}}),xa={class:"relative flex h-full w-full gap-4 overflow-y-auto"},ka={class:"flex flex-1 flex-col"},$a={class:"flex flex-col p-5 pb-0"},wa={class:"text-primary text-sm font-semibold"},Ca={class:"mt-3 text-3xl font-bold"},Sa={class:"prose prose-gray dark:prose-invert mt-2 text-lg"},Ea=["innerHTML"],Na={class:"px-5"},ja={class:"flex items-center justify-between"},Ta={class:"font-mono"},Aa={key:0,class:"p-5"},Ia={class:"flex justify-between"},Pa={class:"flex items-center gap-2"},Ba={key:0,class:"rounded-md bg-red-100/50 px-1.5 py-0.5 font-mono text-xs font-bold text-red-600 dark:bg-red-400/10 dark:text-red-300"},Ha={class:"px-2 py-0.5 font-mono text-xs text-gray-600 dark:text-gray-300"},Oa={key:0},Da={key:1},Va={key:0,class:"sticky top-0 max-h-[calc(100vh-40px)] flex-1 overflow-y-auto [&::-webkit-scrollbar]:hidden"},Ka={class:"p-5"},Ma={key:0,class:"mb-6"},La={key:1},Fa={key:2,class:"py-8 text-center text-gray-400"},Ra=K({name:"DocumentView",__name:"document",props:{showTest:{type:Boolean}},emits:["test"],setup(v,{expose:l,emit:t}){const w=v,e=t,b=n=>n&&n["x-nextdoc4j-security"]||null,C=n=>{const m=b(n);if(!m||m.ignore)return!1;const y=m.permissions&&m.permissions.length>0,h=m.roles&&m.roles.length>0;return y||h},f=yt(),u=vt(),x=R(""),a=R({}),p=R("200"),k=R(""),E=R(!0),P=R(null),H=$(()=>b(a.value)),c=$(()=>C(a.value)),S=$(()=>{var m,y;const n=(y=(m=a.value)==null?void 0:m.parameters)==null?void 0:y.filter(h=>h.in==="path");return n&&n.length>0?n:null}),N=$(()=>{var m,y;const n=(y=(m=a.value)==null?void 0:m.parameters)==null?void 0:y.filter(h=>h.in==="query");return n&&n.length>0?n:null}),I=R("200"),O=$(()=>{var n,m;return((m=(n=a.value)==null?void 0:n.responses)==null?void 0:m[I.value])||null}),L=$(()=>{var y,h;if(!O.value)return null;const n=O.value.content||{},m=((y=n["application/json"])==null?void 0:y.schema)||((h=n["*/*"])==null?void 0:h.schema)||O.value.schema;return m?re(m):null}),J=$(()=>L.value?Re(L.value):null),F=$(()=>{var V,z,M;const n=(V=a.value.requestBody)==null?void 0:V.content;if(!n)return null;const m=Object.keys(n)[0],y=(z=n[m])==null?void 0:z.schema;if(!y)return null;if(y.oneOf)return y.oneOf.map(de=>{var Ce,Se;const G=re(de);if(G.allOf){const Ee={};return G.allOf.forEach(ve=>{const Ye=ve.$ref?re(ve):ve;Object.assign(Ee,Ye.properties)}),W(U({},G),{title:G.title||((Ce=G.$ref)==null?void 0:Ce.split("/").pop())||"请求体",properties:Ee})}return W(U({},G),{title:G.title||((Se=G.$ref)==null?void 0:Se.split("/").pop())||"请求体"})});const h=re(y);return W(U({},h),{title:h.title||((M=y.$ref)==null?void 0:M.split("/").pop())||"请求体"})});qe(F,n=>{Array.isArray(n)&&n.length>0&&!k.value&&(k.value=n[0].title)},{immediate:!0});const Y=$(()=>F.value?Array.isArray(F.value)?F.value.find(n=>n.title===k.value)||F.value[0]||null:F.value:null),me=n=>{if(!n)return{};if(n.properties)return n.properties;const m=(y,h=[])=>{const V={};return y&&Object.entries(y).forEach(([z,M])=>{var te;V[z]=W(U({},M),{required:h.includes(z)}),M.type==="object"&&M.properties&&(V[z].properties=m(M.properties,M.required||[])),M.type==="array"&&((te=M.items)==null?void 0:te.type)==="object"&&M.items.properties&&(V[z].items=W(U({},M.items),{properties:m(M.items.properties,M.items.required||[])}))}),V};return m(n.properties||{},n.required||[])},fe=$(()=>{var h,V,z;if(!((h=O.value)!=null&&h.content))return{};const n=O.value.content,m=((V=n["application/json"])==null?void 0:V.schema)||((z=n["*/*"])==null?void 0:z.schema)||O.value.schema;if(!m)return{};const y=re(m);return{type:"object",properties:me(y)}}),ye=()=>{w.showTest||a.value&&e("test",a.value)},d=$(()=>{const n=f.name;return(n==null?void 0:n.split("*")[1])||""});return Pt(()=>{var z,M,te,de;const n=f.name;if(!n||typeof n!="string"){console.warn("Route name is not available");return}const[m="",y="",h=""]=(z=n.split("*"))!=null?z:[],V=u.searchPathData(m,y,h);if(V&&(a.value=V,V.responses)){const G=Object.keys(V.responses);p.value=G[0]||"200",I.value=G[0]||"200"}x.value=((de=(te=(M=u.openApi)==null?void 0:M.servers)==null?void 0:te[0])==null?void 0:de.url)||""}),l({requestBodyType:k}),(n,m)=>{var y;return s(),o("div",xa,[i("div",ka,[i("div",$a,[i("div",wa,_(d.value),1),i("h1",Ca,_((y=a.value.summary)!=null?y:"暂无描述"),1),i("div",Sa,[i("div",{innerHTML:a.value.description||"暂无描述"},null,8,Ea)])]),i("div",Na,[A(r(Z),{shadow:"never","body-style":{padding:"10px"},class:"mt-6"},{default:j(()=>[i("div",ja,[i("div",Ta,[i("span",{class:"inline-flex items-center rounded-md px-1.5 py-1 font-bold",style:xe(r(le)[a.value.method.toUpperCase()])},_(a.value.method.toUpperCase()),5),x.value?(s(),D(r(_e),{key:0,placement:"top",content:x.value},{default:j(()=>[A(r(Ie),{size:"small",class:"ml-2 !px-1"},{default:j(()=>[A(r(ht),{class:"size-4"})]),_:1})]),_:1},8,["content"])):g("",!0),A(Dt,{path:a.value.path,"param-style":W(U({},r(le)[a.value.method.toUpperCase()]),{borderColor:r(le)[a.value.method.toUpperCase()].color}),class:"ml-2"},null,8,["path","param-style"])]),A(r(Ie),{text:"",size:"large",style:xe(r(le)[a.value.method.toUpperCase()]),onClick:ye,class:T(n.showTest?`${r(le)[a.value.method.toUpperCase()].backgroundColor} !cursor-not-allowed opacity-50`:"")},{default:j(()=>[X(_(n.showTest?"":"调试")+" ",1),n.showTest?(s(),D(r(gt),{key:0,class:"ml-0.5 size-4 animate-spin"})):(s(),D(r(bt),{key:1,class:"ml-0.5 size-4"}))]),_:1},8,["style","class"])])]),_:1})]),c.value&&H.value?(s(),o("div",Aa,[A(r(Z),{shadow:"never",header:"访问权限"},{default:j(()=>[A(Vt,{metadata:H.value},null,8,["metadata"])]),_:1})])):g("",!0),S.value||N.value||F.value?(s(),D(r(Ve),{key:1,column:1,title:"请求参数",class:"mt-4 p-5"},{default:j(()=>[S.value?(s(),D(r(ue),{key:0},{default:j(()=>[A(r(Z),{bordered:"",shadow:"never",header:"Path 参数"},{default:j(()=>[(s(!0),o(B,null,q(S.value,h=>(s(),D(He,{key:h.name,parameter:h},null,8,["parameter"]))),128))]),_:1})]),_:1})):g("",!0),N.value?(s(),D(r(ue),{key:1},{default:j(()=>[A(r(Z),{bordered:"",shadow:"never",header:"Query 参数"},{default:j(()=>[(s(!0),o(B,null,q(N.value,h=>(s(),D(He,{key:h.name,parameter:h},null,8,["parameter"]))),128))]),_:1})]),_:1})):g("",!0),F.value?(s(),D(r(ue),{key:2},{default:j(()=>[A(r(Z),{bordered:"",shadow:"never",header:"Body 参数"},{header:j(()=>{var h;return[i("div",Ia,[i("div",Pa,[m[2]||(m[2]=i("span",null,"Body 参数",-1)),k.value?(s(),o("div",Ba,_(k.value),1)):g("",!0)]),i("div",Ha,_((h=Object.keys(a.value.requestBody.content)[0])!=null?h:"application/json"),1)])]}),default:j(()=>[Array.isArray(F.value)?(s(),o("div",Oa,[A(r($t),{modelValue:k.value,"onUpdate:modelValue":m[0]||(m[0]=h=>k.value=h),size:"small"},{default:j(()=>[(s(!0),o(B,null,q(F.value,h=>(s(),D(r(wt),{key:h.title,value:h.title,label:h.title},{default:j(()=>[X(_(h.title),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue"]),Y.value?(s(),D(be,{key:k.value,data:Y.value},null,8,["data"])):g("",!0)])):(s(),o("div",Da,[A(be,{data:F.value},null,8,["data"])]))]),_:1})]),_:1})):g("",!0)]),_:1})):g("",!0),A(r(Ve),{column:1,title:"响应结果",class:"p-5"},{default:j(()=>[A(r(ue),null,{default:j(()=>[A(r(Z),{shadow:"never"},{default:j(()=>[a.value?(s(),D(r(is),{key:0,modelValue:p.value,"onUpdate:modelValue":m[1]||(m[1]=h=>p.value=h),accordion:"",style:{border:"none"}},{default:j(()=>[(s(!0),o(B,null,q(a.value.responses,(h,V)=>(s(),D(r(ds),{key:V,name:V},{title:j(()=>[X(_(V),1)]),default:j(()=>[A(be,{data:fe.value},null,8,["data"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])):g("",!0)]),_:1})]),_:1})]),_:1})]),n.showTest?g("",!0):(s(),o("div",Va,[i("div",Ka,[A(r(Z),{shadow:"never"},{header:j(()=>m[3]||(m[3]=[i("div",{class:"font-bold"},"示例",-1)])),default:j(()=>[F.value?(s(),o("div",Ma,[m[4]||(m[4]=i("div",{class:"mb-3 text-sm text-gray-700 dark:text-gray-300"}," 请求示例 ",-1)),A(Ke,{ref_key:"jsonViewer",ref:P,schema:Y.value,"default-expanded":E.value},null,8,["schema","default-expanded"])])):g("",!0),J.value?(s(),o("div",La,[m[5]||(m[5]=i("div",{class:"mb-3 text-sm text-gray-700 dark:text-gray-300"}," 响应示例 ",-1)),A(Ke,{ref_key:"jsonViewer",ref:P,schema:L.value,"default-expanded":E.value},null,8,["schema","default-expanded"])])):g("",!0),!F.value&&!J.value?(s(),o("div",Fa," 暂无示例数据 ")):g("",!0)]),_:1})])]))])}}}),ln=ke(Ra,[["__scopeId","data-v-8547a225"]]);export{ln as default};
