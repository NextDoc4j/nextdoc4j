var A=Object.defineProperty,B=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var b=(n,o,r)=>o in n?A(n,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[o]=r,w=(n,o)=>{for(var r in o||(o={}))I.call(o,r)&&b(n,r,o[r]);if(k)for(var r of k(o))F.call(o,r)&&b(n,r,o[r]);return n},$=(n,o)=>B(n,N(o));import{b as O,w as m,_ as P}from"./bootstrap-DeX8kNGY.js";import{M as z,a as D,b as J}from"./index-GSJuJy-F.js";import"./load-sItwVdkL.js";import{E as _}from"./el-button-DTAroKKD.js";import{u as K,E as L}from"./el-input-DMjZH9DS.js";import{a4 as U,J as C,P as q,ac as H,an as h,aq as u,aD as t,x as p,aH as v,aI as f,aE as y,ag as i,F as R,a$ as G,ap as Q,ao as W,aJ as E}from"../jse/index-index-nDv0Qug6.js";import{u as X}from"./use-refresh-5x0oMXCY.js";import"./index-DqaUdekJ.js";import"./index-DJ3V8gZy.js";import"./use-form-common-props-C55ZhppA.js";const Y={class:"h-full overflow-y-auto bg-gray-50 px-4 py-8 sm:px-6 lg:px-8"},Z={class:"mx-auto max-w-6xl"},ee={class:"mb-6 flex items-center justify-between rounded-lg bg-white p-4 shadow-sm"},se={class:"flex items-center text-sm text-gray-500"},te={class:"grid grid-cols-1 gap-4"},oe=["onClick"],le={class:"flex h-full w-full items-start"},re={class:"mr-4 flex h-10 w-10 items-center justify-center rounded-lg bg-[--el-color-primary-light-9]"},ae={class:"text-[--el-color-primary]"},ne={class:"flex-1"},ie={class:"flex h-10 flex-col justify-between"},de={class:"font-medium text-gray-900"},ce={class:"text-sm text-gray-500"},ue={key:0,class:"mt-2 w-[50%]"},pe={class:"mt-2"},me=U({name:"Authorize",__name:"index",setup(n){const o=O(),r=K(),{refresh:M}=X(),V=C(()=>{var e,s,a;const l=(a=(s=(e=o.openApi)==null?void 0:e.components)==null?void 0:s.securitySchemes)!=null?a:{};return Object.entries(l).map(([c])=>$(w({},l[c]),{fold:!0})),l}),d=q(r.token),x=(l,e)=>{r.setToken(l,e),M()},S=l=>{l.fold=!l.fold},j=C(()=>{let l=0;return Object.keys(d.value).forEach(e=>{d.value[e]&&l++}),l}),T=()=>{Object.keys(d.value).forEach(l=>{x(null,l)})};return H(()=>{}),(l,e)=>(u(),h("div",Y,[t("div",Z,[e[7]||(e[7]=t("div",{class:"mb-8"},[t("h1",{class:"mb-2 text-2xl font-bold text-gray-900"},"全局认证配置"),t("p",{class:"text-gray-500"}," 配置全局认证后，所有 API 请求将自动携带对应的认证信息，支持同时配置多种认证方式，适用于不同的接口场景。 ")],-1)),t("div",ee,[t("div",se,[e[3]||(e[3]=t("span",{class:"mr-2 h-2 w-2 rounded-full bg-green-500"},null,-1)),v(" 已选择 "+f(j.value)+" 个认证方式 ",1)]),p(i(_),{class:"text-sm text-gray-500 transition-colors hover:text-red-500",onClick:T},{default:y(()=>e[4]||(e[4]=[v(" 清除全部认证 ")])),_:1,__:[4]})]),t("div",te,[(u(!0),h(R,null,G(V.value,(s,a)=>(u(),h("div",{class:Q(["relative cursor-pointer overflow-hidden rounded-lg border-2 bg-white p-4 shadow-sm transition-all hover:shadow-md",[d.value[`${a}_${s.in}`]?"border-[--el-color-primary-light-5]":""]]),key:a,onClick:c=>S(s)},[t("div",le,[t("div",re,[t("i",ae,[p(i(z))])]),t("div",ne,[t("div",ie,[t("h3",de,f(a)+"（"+f(s.type)+" "+f(s.scheme?`, ${s.scheme}`:s.scheme)+"） ",1),t("p",ce,f(s.description),1)]),s.fold?(u(),h("div",ue,[p(i(L),{placeholder:"请输入",modelValue:d.value[`${a}_${s.in}`],"onUpdate:modelValue":c=>d.value[`${a}_${s.in}`]=c,modelModifiers:{trim:!0},onClick:e[0]||(e[0]=m(()=>{},["stop"])),onKeydown:e[1]||(e[1]=m(()=>{},["stop"])),onKeyup:e[2]||(e[2]=m(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"]),t("div",pe,[p(i(_),{type:"primary",plain:"",onClick:m(c=>{var g;return x((g=d.value[`${a}_${s.in}`])!=null?g:null,`${a}_${s.in}`)},["stop"])},{default:y(()=>e[5]||(e[5]=[v(" 确定 ")])),_:2,__:[5]},1032,["onClick"]),p(i(_),{type:"primary",plain:"",onClick:m(c=>x(null,`${a}_${s.in}`),["stop"])},{default:y(()=>e[6]||(e[6]=[v(" 清除 ")])),_:2,__:[6]},1032,["onClick"])])])):W("",!0)]),p(i(_),{circle:""},{default:y(()=>[s.fold?(u(),E(i(D),{key:0})):(u(),E(i(J),{key:1}))]),_:2},1024)])],10,oe))),128))])])]))}}),Ce=P(me,[["__scopeId","data-v-36b6e5b8"]]);export{Ce as default};
