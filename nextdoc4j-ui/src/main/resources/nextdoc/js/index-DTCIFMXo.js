var se=Object.defineProperty,re=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable;var M=Math.pow,Y=(i,l,a)=>l in i?se(i,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[l]=a,x=(i,l)=>{for(var a in l||(l={}))ie.call(l,a)&&Y(i,a,l[a]);if(V)for(var a of V(l))ce.call(l,a)&&Y(i,a,l[a]);return i},G=(i,l)=>re(i,ne(l));import{o as K,k as q,l as te,F as W,C as ue,Y as ve,T as fe,a as me,q as P,p as de,M as I,S as pe,w as he}from"./bootstrap-Bwv7EoT6.js";import{B as be,r as ye,G as C}from"./util-B2mB0_6C.js";import{t as ge}from"./error-CYJGVSdm.js";import{e as O,m as ae,r as f,c as L,a6 as Se,t as X,q as j,o as R,s as le,S as we,l as D,O as B,u as g,P as $,j as oe,E as Q,F as ze,w as J,a7 as Ee,Q as _e,ab as He,n as Te,W as Z,R as Ce,A as Le,v as ke,B as Pe,a5 as Re}from"../jse/index-index-Cr1u2jcp.js";import{u as Be}from"./index-BIIh2HTk.js";const U=Symbol("scrollbarContextKey"),Ne=K({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Me="Thumb",Oe=O({__name:"thumb",props:Ne,setup(i){const l=i,a=ae(U),s=te("scrollbar");a||ge(Me,"can not inject scrollbar context");const v=f(),m=f(),p=f({}),u=f(!1);let c=!1,d=!1,T=0,o=0,r=me?document.onselectstart:null;const t=L(()=>be[l.vertical?"vertical":"horizontal"]),h=L(()=>ye({size:l.size,move:l.move,bar:t.value})),w=L(()=>M(v.value[t.value.offset],2)/a.wrapElement[t.value.scrollSize]/l.ratio/m.value[t.value.offset]),_=n=>{var y;if(n.stopPropagation(),n.ctrlKey||[1,2].includes(n.button))return;(y=window.getSelection())==null||y.removeAllRanges(),z(n);const H=n.currentTarget;H&&(p.value[t.value.axis]=H[t.value.offset]-(n[t.value.client]-H.getBoundingClientRect()[t.value.direction]))},S=n=>{if(!m.value||!v.value||!a.wrapElement)return;const y=Math.abs(n.target.getBoundingClientRect()[t.value.direction]-n[t.value.client]),H=m.value[t.value.offset]/2,A=(y-H)*100*w.value/v.value[t.value.offset];a.wrapElement[t.value.scroll]=A*a.wrapElement[t.value.scrollSize]/100},z=n=>{n.stopImmediatePropagation(),c=!0,T=a.wrapElement.scrollHeight,o=a.wrapElement.scrollWidth,document.addEventListener("mousemove",N),document.addEventListener("mouseup",k),r=document.onselectstart,document.onselectstart=()=>!1},N=n=>{if(!v.value||!m.value||c===!1)return;const y=p.value[t.value.axis];if(!y)return;const H=(v.value.getBoundingClientRect()[t.value.direction]-n[t.value.client])*-1,A=m.value[t.value.offset]-y,F=(H-A)*100*w.value/v.value[t.value.offset];t.value.scroll==="scrollLeft"?a.wrapElement[t.value.scroll]=F*o/100:a.wrapElement[t.value.scroll]=F*T/100},k=()=>{c=!1,p.value[t.value.axis]=0,document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",k),b(),d&&(u.value=!1)},E=()=>{d=!1,u.value=!!l.size},e=()=>{d=!0,u.value=c};Se(()=>{b(),document.removeEventListener("mouseup",k)});const b=()=>{document.onselectstart!==r&&(document.onselectstart=r)};return W(X(a,"scrollbarElement"),"mousemove",E),W(X(a,"scrollbarElement"),"mouseleave",e),(n,y)=>(R(),j(fe,{name:g(s).b("fade"),persisted:""},{default:le(()=>[we(D("div",{ref_key:"instance",ref:v,class:B([g(s).e("bar"),g(s).is(g(t).key)]),onMousedown:S,onClick:ue(()=>{},["stop"])},[D("div",{ref_key:"thumb",ref:m,class:B(g(s).e("thumb")),style:$(g(h)),onMousedown:_},null,38)],42,["onClick"]),[[ve,n.always||u.value]])]),_:1},8,["name"]))}});var ee=q(Oe,[["__file","thumb.vue"]]);const Ae=K({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),xe=O({__name:"bar",props:Ae,setup(i,{expose:l}){const a=i,s=ae(U),v=f(0),m=f(0),p=f(""),u=f(""),c=f(1),d=f(1);return l({handleScroll:r=>{if(r){const t=r.offsetHeight-C,h=r.offsetWidth-C;m.value=r.scrollTop*100/t*c.value,v.value=r.scrollLeft*100/h*d.value}},update:()=>{const r=s==null?void 0:s.wrapElement;if(!r)return;const t=r.offsetHeight-C,h=r.offsetWidth-C,w=M(t,2)/r.scrollHeight,_=M(h,2)/r.scrollWidth,S=Math.max(w,a.minSize),z=Math.max(_,a.minSize);c.value=w/(t-w)/(S/(t-S)),d.value=_/(h-_)/(z/(h-z)),u.value=S+C<t?`${S}px`:"",p.value=z+C<h?`${z}px`:""}}),(r,t)=>(R(),oe(ze,null,[Q(ee,{move:v.value,ratio:d.value,size:p.value,always:r.always},null,8,["move","ratio","size","always"]),Q(ee,{move:m.value,ratio:c.value,size:u.value,vertical:"",always:r.always},null,8,["move","ratio","size","always"])],64))}});var We=q(xe,[["__file","bar.vue"]]);const je=K(x({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:de([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String},Be(["ariaLabel","ariaOrientation"]))),De={"end-reached":i=>["left","right","top","bottom"].includes(i),scroll:({scrollTop:i,scrollLeft:l})=>[i,l].every(P)},$e="ElScrollbar",Ke=O({name:$e}),qe=O(G(x({},Ke),{props:je,emits:De,setup(i,{expose:l,emit:a}){const s=i,v=te("scrollbar");let m,p,u=0,c=0,d="";const T=f(),o=f(),r=f(),t=f(),h=L(()=>{const e={};return s.height&&(e.height=I(s.height)),s.maxHeight&&(e.maxHeight=I(s.maxHeight)),[s.wrapStyle,e]}),w=L(()=>[s.wrapClass,v.e("wrap"),{[v.em("wrap","hidden-default")]:!s.native}]),_=L(()=>[v.e("view"),s.viewClass]),S=()=>{var e;if(o.value){(e=t.value)==null||e.handleScroll(o.value);const b=u,n=c;u=o.value.scrollTop,c=o.value.scrollLeft;const y={bottom:u+o.value.clientHeight>=o.value.scrollHeight,top:u<=0&&b!==0,right:c+o.value.clientWidth>=o.value.scrollWidth&&n!==c,left:c<=0&&n!==0};b!==u&&(d=u>b?"bottom":"top"),n!==c&&(d=c>n?"right":"left"),a("scroll",{scrollTop:u,scrollLeft:c}),y[d]&&a("end-reached",d)}};function z(e,b){Re(e)?o.value.scrollTo(e):P(e)&&P(b)&&o.value.scrollTo(e,b)}const N=e=>{P(e)&&(o.value.scrollTop=e)},k=e=>{P(e)&&(o.value.scrollLeft=e)},E=()=>{var e;(e=t.value)==null||e.update()};return J(()=>s.noresize,e=>{e?(m==null||m(),p==null||p()):({stop:m}=pe(r,E),p=W("resize",E))},{immediate:!0}),J(()=>[s.maxHeight,s.height],()=>{s.native||Z(()=>{var e;E(),o.value&&((e=t.value)==null||e.handleScroll(o.value))})}),Ee(U,_e({scrollbarElement:T,wrapElement:o})),He(()=>{o.value&&(o.value.scrollTop=u,o.value.scrollLeft=c)}),Te(()=>{s.native||Z(()=>{E()})}),Ce(()=>E()),l({wrapRef:o,update:E,scrollTo:z,setScrollTop:N,setScrollLeft:k,handleScroll:S}),(e,b)=>(R(),oe("div",{ref_key:"scrollbarRef",ref:T,class:B(g(v).b())},[D("div",{ref_key:"wrapRef",ref:o,class:B(g(w)),style:$(g(h)),tabindex:e.tabindex,onScroll:S},[(R(),j(Pe(e.tag),{id:e.id,ref_key:"resizeRef",ref:r,class:B(g(_)),style:$(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:le(()=>[ke(e.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),e.native?Le("v-if",!0):(R(),j(We,{key:0,ref_key:"barRef",ref:t,always:e.always,"min-size":e.minSize},null,8,["always","min-size"]))],2))}}));var Ue=q(qe,[["__file","scrollbar.vue"]]);const Qe=he(Ue);export{Qe as E,De as s};
