var se=Object.defineProperty,re=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable;var M=Math.pow,G=(i,l,a)=>l in i?se(i,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[l]=a,A=(i,l)=>{for(var a in l||(l={}))ie.call(l,a)&&G(i,a,l[a]);if(F)for(var a of F(l))ce.call(l,a)&&G(i,a,l[a]);return i},I=(i,l)=>re(i,ne(l));import{k as K,m as U,n as te,C as W,A as ue,a0 as ve,T as fe,a as me,o as N,l as de,L as X,f as pe,w as he}from"./bootstrap-CRjMKuhV.js";import{B as be,r as ye,G as C}from"./util-B7WSBMZo.js";import{t as ge}from"./error-BnMaIJam.js";import{d as O,k as ae,r as f,m as L,a2 as we,t as Y,q as D,o as P,B as le,R as Se,j,N as R,u as g,O as $,f as oe,D as Q,F as ze,w as J,a4 as Ee,P as _e,ab as He,n as Te,U as Z,Q as Ce,x as Le,z as ke,y as Ne,a8 as Pe}from"../jse/index-index-D0E-L6PM.js";import{u as Re}from"./index-CnFn7qwi.js";const q=Symbol("scrollbarContextKey"),Be=K({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Me="Thumb",Oe=O({__name:"thumb",props:Be,setup(i){const l=i,a=ae(q),s=te("scrollbar");a||ge(Me,"can not inject scrollbar context");const v=f(),m=f(),p=f({}),u=f(!1);let c=!1,d=!1,T=0,o=0,r=me?document.onselectstart:null;const t=L(()=>be[l.vertical?"vertical":"horizontal"]),h=L(()=>ye({size:l.size,move:l.move,bar:t.value})),S=L(()=>M(v.value[t.value.offset],2)/a.wrapElement[t.value.scrollSize]/l.ratio/m.value[t.value.offset]),_=n=>{var y;if(n.stopPropagation(),n.ctrlKey||[1,2].includes(n.button))return;(y=window.getSelection())==null||y.removeAllRanges(),z(n);const H=n.currentTarget;H&&(p.value[t.value.axis]=H[t.value.offset]-(n[t.value.client]-H.getBoundingClientRect()[t.value.direction]))},w=n=>{if(!m.value||!v.value||!a.wrapElement)return;const y=Math.abs(n.target.getBoundingClientRect()[t.value.direction]-n[t.value.client]),H=m.value[t.value.offset]/2,x=(y-H)*100*S.value/v.value[t.value.offset];a.wrapElement[t.value.scroll]=x*a.wrapElement[t.value.scrollSize]/100},z=n=>{n.stopImmediatePropagation(),c=!0,T=a.wrapElement.scrollHeight,o=a.wrapElement.scrollWidth,document.addEventListener("mousemove",B),document.addEventListener("mouseup",k),r=document.onselectstart,document.onselectstart=()=>!1},B=n=>{if(!v.value||!m.value||c===!1)return;const y=p.value[t.value.axis];if(!y)return;const H=(v.value.getBoundingClientRect()[t.value.direction]-n[t.value.client])*-1,x=m.value[t.value.offset]-y,V=(H-x)*100*S.value/v.value[t.value.offset];t.value.scroll==="scrollLeft"?a.wrapElement[t.value.scroll]=V*o/100:a.wrapElement[t.value.scroll]=V*T/100},k=()=>{c=!1,p.value[t.value.axis]=0,document.removeEventListener("mousemove",B),document.removeEventListener("mouseup",k),b(),d&&(u.value=!1)},E=()=>{d=!1,u.value=!!l.size},e=()=>{d=!0,u.value=c};we(()=>{b(),document.removeEventListener("mouseup",k)});const b=()=>{document.onselectstart!==r&&(document.onselectstart=r)};return W(Y(a,"scrollbarElement"),"mousemove",E),W(Y(a,"scrollbarElement"),"mouseleave",e),(n,y)=>(P(),D(fe,{name:g(s).b("fade"),persisted:""},{default:le(()=>[Se(j("div",{ref_key:"instance",ref:v,class:R([g(s).e("bar"),g(s).is(g(t).key)]),onMousedown:w,onClick:ue(()=>{},["stop"])},[j("div",{ref_key:"thumb",ref:m,class:R(g(s).e("thumb")),style:$(g(h)),onMousedown:_},null,38)],42,["onClick"]),[[ve,n.always||u.value]])]),_:1},8,["name"]))}});var ee=U(Oe,[["__file","thumb.vue"]]);const xe=K({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),Ae=O({__name:"bar",props:xe,setup(i,{expose:l}){const a=i,s=ae(q),v=f(0),m=f(0),p=f(""),u=f(""),c=f(1),d=f(1);return l({handleScroll:r=>{if(r){const t=r.offsetHeight-C,h=r.offsetWidth-C;m.value=r.scrollTop*100/t*c.value,v.value=r.scrollLeft*100/h*d.value}},update:()=>{const r=s==null?void 0:s.wrapElement;if(!r)return;const t=r.offsetHeight-C,h=r.offsetWidth-C,S=M(t,2)/r.scrollHeight,_=M(h,2)/r.scrollWidth,w=Math.max(S,a.minSize),z=Math.max(_,a.minSize);c.value=S/(t-S)/(w/(t-w)),d.value=_/(h-_)/(z/(h-z)),u.value=w+C<t?`${w}px`:"",p.value=z+C<h?`${z}px`:""}}),(r,t)=>(P(),oe(ze,null,[Q(ee,{move:v.value,ratio:d.value,size:p.value,always:r.always},null,8,["move","ratio","size","always"]),Q(ee,{move:m.value,ratio:c.value,size:u.value,vertical:"",always:r.always},null,8,["move","ratio","size","always"])],64))}});var We=U(Ae,[["__file","bar.vue"]]);const De=K(A({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:de([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String},Re(["ariaLabel","ariaOrientation"]))),je={"end-reached":i=>["left","right","top","bottom"].includes(i),scroll:({scrollTop:i,scrollLeft:l})=>[i,l].every(N)},$e="ElScrollbar",Ke=O({name:$e}),Ue=O(I(A({},Ke),{props:De,emits:je,setup(i,{expose:l,emit:a}){const s=i,v=te("scrollbar");let m,p,u=0,c=0,d="";const T=f(),o=f(),r=f(),t=f(),h=L(()=>{const e={};return s.height&&(e.height=X(s.height)),s.maxHeight&&(e.maxHeight=X(s.maxHeight)),[s.wrapStyle,e]}),S=L(()=>[s.wrapClass,v.e("wrap"),{[v.em("wrap","hidden-default")]:!s.native}]),_=L(()=>[v.e("view"),s.viewClass]),w=()=>{var e;if(o.value){(e=t.value)==null||e.handleScroll(o.value);const b=u,n=c;u=o.value.scrollTop,c=o.value.scrollLeft;const y={bottom:u+o.value.clientHeight>=o.value.scrollHeight,top:u<=0&&b!==0,right:c+o.value.clientWidth>=o.value.scrollWidth&&n!==c,left:c<=0&&n!==0};b!==u&&(d=u>b?"bottom":"top"),n!==c&&(d=c>n?"right":"left"),a("scroll",{scrollTop:u,scrollLeft:c}),y[d]&&a("end-reached",d)}};function z(e,b){Pe(e)?o.value.scrollTo(e):N(e)&&N(b)&&o.value.scrollTo(e,b)}const B=e=>{N(e)&&(o.value.scrollTop=e)},k=e=>{N(e)&&(o.value.scrollLeft=e)},E=()=>{var e;(e=t.value)==null||e.update()};return J(()=>s.noresize,e=>{e?(m==null||m(),p==null||p()):({stop:m}=pe(r,E),p=W("resize",E))},{immediate:!0}),J(()=>[s.maxHeight,s.height],()=>{s.native||Z(()=>{var e;E(),o.value&&((e=t.value)==null||e.handleScroll(o.value))})}),Ee(q,_e({scrollbarElement:T,wrapElement:o})),He(()=>{o.value&&(o.value.scrollTop=u,o.value.scrollLeft=c)}),Te(()=>{s.native||Z(()=>{E()})}),Ce(()=>E()),l({wrapRef:o,update:E,scrollTo:z,setScrollTop:B,setScrollLeft:k,handleScroll:w}),(e,b)=>(P(),oe("div",{ref_key:"scrollbarRef",ref:T,class:R(g(v).b())},[j("div",{ref_key:"wrapRef",ref:o,class:R(g(S)),style:$(g(h)),tabindex:e.tabindex,onScroll:w},[(P(),D(Ne(e.tag),{id:e.id,ref_key:"resizeRef",ref:r,class:R(g(_)),style:$(e.viewStyle),role:e.role,"aria-label":e.ariaLabel,"aria-orientation":e.ariaOrientation},{default:le(()=>[ke(e.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),e.native?Le("v-if",!0):(P(),D(We,{key:0,ref_key:"barRef",ref:t,always:e.always,"min-size":e.minSize},null,8,["always","min-size"]))],2))}}));var qe=U(Ue,[["__file","scrollbar.vue"]]);const Qe=he(qe);export{Qe as E,je as s};
