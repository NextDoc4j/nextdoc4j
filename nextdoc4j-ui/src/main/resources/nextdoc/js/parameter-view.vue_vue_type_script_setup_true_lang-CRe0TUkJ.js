import{r as T}from"./schema-d839yqZX.js";import{a4 as V,J as p,an as r,aq as a,F as y,aD as s,ao as i,aI as d,a$ as v}from"../jse/index-index-D0JIfVze.js";function M(l){return l!=null&&"value"in l&&l.value!==void 0&&l.value!==null}function Le(l){if(!l)return null;const o=l["x-nextdoc4j-enum"];if(!(o!=null&&o.items)||!Array.isArray(o.items))return null;const n=o.items.filter(x=>M(x)).map(x=>x.description?`${x.value} - ${x.description}`:x.value);return n.length>0?n.join(", "):null}function P(l){if(!l)return[];const o=l["x-nextdoc4j-enum"];return!(o!=null&&o.items)||!Array.isArray(o.items)?l.enum&&Array.isArray(l.enum)?l.enum.map(n=>({value:n})):[]:o.items.filter(n=>M(n))}const S={class:"border-b border-gray-100 py-6 last:border-b-0 last:pb-0 dark:border-gray-800"},q={class:"mb-2 flex items-center gap-2"},C={class:"text-primary font-mono text-base font-bold"},F={key:0,class:"flex rounded-md bg-gray-100/50 px-1.5 font-mono text-xs font-bold text-gray-600 dark:bg-white/5 dark:text-gray-200"},N={key:0},J={key:1,class:"flex items-center rounded-md bg-gray-100/50 px-1.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},z={class:"font-mono"},G={key:2,class:"flex items-center rounded-md bg-gray-100/50 px-1.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},K={class:"font-mono"},O={key:3,class:"flex items-center rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},Q={class:"font-mono"},R={key:0,class:"text-gray-600 dark:text-gray-400"},U=["innerHTML"],W={key:2,class:"mt-4"},X={class:"flex flex-wrap gap-2"},Y={class:"text-primary font-mono font-semibold"},Z={key:0,class:"text-gray-600 dark:text-gray-400"},ee={key:3,class:"mt-6 flex items-center"},te={class:"font-mono"},re={class:"mb-2 flex items-center gap-2"},ae={class:"flex items-center gap-2"},se={class:"font-mono text-base font-bold text-red-600"},ne={key:0,class:"flex rounded-md bg-gray-100/50 px-1.5 py-0.5 font-mono text-xs font-bold text-gray-600 dark:bg-white/5 dark:text-gray-200"},oe={key:0},de={key:1,class:"flex items-center rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},ie={class:"font-mono"},le={key:2,class:"flex items-center rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},me={class:"font-mono"},ue={key:3,class:"flex items-center rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},xe={class:"font-mono"},pe={key:4,class:"rounded-md bg-red-100/50 px-1.5 py-0.5 text-xs font-bold text-red-600 dark:bg-red-400/10 dark:text-red-300"},ye={key:5,class:"rounded-md bg-green-100/50 px-1.5 py-0.5 text-xs font-bold text-green-600 dark:bg-green-400/10 dark:text-green-300"},ge={class:"mt-4 text-gray-600 dark:text-gray-400"},ce=["innerHTML"],ve={key:1,class:"mt-4"},fe={class:"flex flex-wrap gap-2"},ke={class:"text-primary font-mono font-semibold"},_e={key:0,class:"text-gray-600 dark:text-gray-400"},be={key:2,class:"mt-6 flex items-center"},he={class:"font-mono"},Ae=V({name:"ParameterView",__name:"parameter-view",props:{parameter:{}},setup(l){const o=l,n=p(()=>o.parameter.schema?T(o.parameter.schema):null),x=p(()=>o.parameter.in==="path"),g=p(()=>{const t=n.value||o.parameter,e=[];return t.minLength!==void 0&&e.push(`>=${t.minLength}${t.type==="string"?" 字符":""}`),t.maxLength!==void 0&&e.push(`<=${t.maxLength}${t.type==="string"?" 字符":""}`),t.minimum!==void 0&&e.push(`>=${t.minimum}`),t.maximum!==void 0&&e.push(`<=${t.maximum}`),e.join(" 或 ")}),_=p(()=>{var e,u;const t=o.parameter.description||((u=(e=n.value)==null?void 0:e.items)==null?void 0:u.description);return t==null?void 0:t.includes("<")}),f=p(()=>{var e,u;const t=o.parameter.description||((u=(e=n.value)==null?void 0:e.items)==null?void 0:u.description);return _.value?null:t}),c=p(()=>{var e,u;const t=o.parameter.description||((u=(e=n.value)==null?void 0:e.items)==null?void 0:u.description);return _.value?t:null}),k=p(()=>{const t=n.value||o.parameter.schema;return t?P(t):[]}),b=p(()=>k.value.some(t=>t.description));return(t,e)=>{var u,h,w,$,L,A,B,D,E,H,I,j;return a(),r("div",S,[x.value?(a(),r(y,{key:0},[s("div",q,[s("span",C,d(t.parameter.name),1),n.value?(a(),r("div",F,[s("span",null,d(n.value.type),1),n.value.format?(a(),r("span",N,d(`<${n.value.format}>`),1)):i("",!0)])):i("",!0),t.parameter.example?(a(),r("div",J,[e[0]||(e[0]=s("span",{class:"mr-0.5 text-gray-400 dark:text-gray-500"},"示例值:",-1)),s("span",z,d(t.parameter.example),1)])):i("",!0),t.parameter.default?(a(),r("div",G,[e[1]||(e[1]=s("span",{class:"mr-0.5 text-gray-400 dark:text-gray-500"},"默认值:",-1)),s("span",K,d(t.parameter.default),1)])):i("",!0),g.value?(a(),r("div",O,[e[2]||(e[2]=s("span",{class:"mr-0.5 text-gray-400 dark:text-gray-500"}," 取值范围: ",-1)),s("span",Q,d(g.value),1)])):i("",!0),e[3]||(e[3]=s("div",{class:"rounded-md bg-red-100/50 px-1.5 text-xs font-bold text-red-600 dark:bg-red-400/10 dark:text-red-300"}," 必须 ",-1))]),f.value?(a(),r("div",R,d(f.value),1)):i("",!0),c.value?(a(),r("div",{key:1,class:"mt-2 text-gray-600 dark:text-gray-400",innerHTML:c.value},null,8,U)):i("",!0),b.value?(a(),r("div",W,[e[4]||(e[4]=s("div",{class:"mb-2 text-xs font-medium text-gray-600 dark:text-gray-400"}," 可用值: ",-1)),s("div",X,[(a(!0),r(y,null,v(k.value,m=>(a(),r("div",{key:m.value,class:"bg-primary/5 inline-flex items-center gap-1.5 rounded-md px-2.5 py-1.5 text-xs"},[s("span",Y,d(m.value),1),m.description?(a(),r("span",Z," - "+d(m.description),1)):i("",!0)]))),128))])])):(u=n.value)!=null&&u.enum||(w=(h=n.value)==null?void 0:h.items)!=null&&w.enum?(a(),r("div",ee,[e[5]||(e[5]=s("span",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"}," 可用值: ",-1)),(a(!0),r(y,null,v(((($=n.value)==null?void 0:$.enum)||((A=(L=n.value)==null?void 0:L.items)==null?void 0:A.enum)).filter(Boolean),m=>(a(),r("div",{key:m,class:"mr-2 rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},[s("span",te,d(m),1)]))),128))])):i("",!0)],64)):(a(),r(y,{key:1},[s("div",re,[s("div",ae,[s("span",se,d(t.parameter.name),1),n.value?(a(),r("div",ne,[s("span",null,d(n.value.type),1),n.value.format?(a(),r("span",oe,d(`<${n.value.format}>`),1)):i("",!0)])):i("",!0),t.parameter.example?(a(),r("div",de,[e[6]||(e[6]=s("span",{class:"mr-0.5 text-gray-400 dark:text-gray-500"}," 示例值: ",-1)),s("span",ie,d(t.parameter.example),1)])):i("",!0),t.parameter.default?(a(),r("div",le,[e[7]||(e[7]=s("span",{class:"mr-0.5 text-gray-400 dark:text-gray-500"}," 默认值: ",-1)),s("span",me,d(t.parameter.default),1)])):i("",!0),g.value?(a(),r("div",ue,[e[8]||(e[8]=s("span",{class:"mr-0.5 text-gray-400 dark:text-gray-500"}," 取值范围: ",-1)),s("span",xe,d(g.value),1)])):i("",!0),t.parameter.required?(a(),r("div",pe," 必须 ")):(a(),r("div",ye," 可选 "))])]),s("div",ge,d(f.value),1),c.value?(a(),r("div",{key:0,class:"mt-2 text-sm text-gray-600 dark:text-gray-400",innerHTML:c.value},null,8,ce)):i("",!0),b.value?(a(),r("div",ve,[e[9]||(e[9]=s("div",{class:"mb-2 text-xs font-medium text-gray-600 dark:text-gray-400"}," 可用值: ",-1)),s("div",fe,[(a(!0),r(y,null,v(k.value,m=>(a(),r("div",{key:m.value,class:"bg-primary/5 inline-flex items-center gap-1.5 rounded-md px-2.5 py-1.5 text-xs"},[s("span",ke,d(m.value),1),m.description?(a(),r("span",_e," - "+d(m.description),1)):i("",!0)]))),128))])])):(B=n.value)!=null&&B.enum||(E=(D=n.value)==null?void 0:D.items)!=null&&E.enum?(a(),r("div",be,[e[10]||(e[10]=s("span",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"}," 可用值: ",-1)),(a(!0),r(y,null,v((((H=n.value)==null?void 0:H.enum)||((j=(I=n.value)==null?void 0:I.items)==null?void 0:j.enum)).filter(Boolean),m=>(a(),r("div",{key:m,class:"mr-2 rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},[s("span",he,d(m),1)]))),128))])):i("",!0)],64))])}}});export{Ae as _,P as g,Le as p};
