var J=Object.defineProperty;var E=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var j=(s,r,o)=>r in s?J(s,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[r]=o,h=(s,r)=>{for(var o in r||(r={}))N.call(r,o)&&j(s,o,r[o]);if(E)for(var o of E(r))A.call(r,o)&&j(s,o,r[o]);return s};import{s as V,b as D}from"./bootstrap-DHniKkV2.js";import{E as g}from"./el-card-XKYGgGEH.js";import{E as O,a as I}from"./el-row-CRmm3YEm.js";import{J as R}from"./index-CAi369kD.js";import{r as F,p as M}from"./schema-vKUyM2il.js";import{_ as P}from"./entity-tr.vue_vue_type_style_index_0_lang-Cwnjs_E6.js";import{a4 as W,P as c,J as $,b2 as q,ao as x,ar as y,aD as a,x as d,aI as k,aE as l,ah as m,aJ as z,ap as G}from"../jse/index-index-BoHc453y.js";import"./enumexpand-BETr1-NE.js";import"./el-tag-k9XU8Vbb.js";import"./use-form-common-props-x1wJ0Ch4.js";const H={class:"relative box-border h-full w-full overflow-y-auto p-5"},K={class:"text-xl"},L={class:"mt-4 text-sm"},Q={class:"entity-table"},T={key:0,class:"max-h-[70vh] overflow-auto"},U={key:1,class:"py-8 text-center text-sm text-gray-400"},le=W({__name:"index",setup(s){const r=V(),o=c(),S=D(),_=c(),B=c(!1),C=c(!0),b=$(()=>{if(!o.value)return null;const t=F(o.value);return p(t)});function p(t){var n,i,w;if(!t||typeof t!="object")return t;if(Array.isArray(t))return t.map(u=>p(u));if((n=t.oneOf)!=null&&n.length)return p(t.oneOf[0]);if((i=t.allOf)!=null&&i.length){const u={type:"object",properties:{}};return t.allOf.forEach(v=>{const f=p(v);f!=null&&f.properties&&Object.assign(u.properties,f.properties)}),u}if(["error","ref","unknown"].includes(t.type))return{type:"object",properties:{}};const e=h({},t);if(e.type||(e.properties?e.type="object":e.items?e.type="array":e.enum&&(e.type="string")),e.type==="array"&&e.items&&(e.items=p(e.items)),e.type==="object"||e.properties){const u=(w=e.properties)!=null?w:{};e.properties=Object.fromEntries(Object.entries(u).map(([v,f])=>[v,p(f)]))}return e.example===void 0&&e.type&&!["array","object"].includes(e.type)&&(e.example=""),e}return q(()=>{var n,i;const[,t]=(n=r.name.split("*"))!=null?n:[];t&&(o.value=h({name:t},(i=S.openApi)==null?void 0:i.components.schemas[t]));const e=M(o.value);_.value=e}),(t,e)=>{var n,i;return y(),x("div",H,[a("h3",K,k((n=o.value)==null?void 0:n.name),1),a("h4",L,k((i=o.value)==null?void 0:i.description),1),d(m(I),{class:"mt-6",gutter:16},{default:l(()=>[d(m(O),{span:16},{default:l(()=>[d(m(g),{shadow:"never"},{header:l(()=>e[0]||(e[0]=[a("span",{class:"text-sm font-medium"},"字段定义",-1)])),default:l(()=>[a("table",Q,[e[1]||(e[1]=a("thead",null,[a("tr",null,[a("th",{width:"20%"},"属性名"),a("th",{width:"25%"},"类型"),a("th",{width:"20%"},"示例"),a("th",{width:"35%"},"描述")])],-1)),a("tbody",null,[B.value?G("",!0):(y(),z(P,{key:0,"tree-data":_.value},null,8,["tree-data"]))])])]),_:1})]),_:1}),d(m(O),{span:8},{default:l(()=>[d(m(g),{shadow:"never"},{header:l(()=>e[2]||(e[2]=[a("span",{class:"text-sm font-medium"},"JSON 示例",-1)])),default:l(()=>[b.value?(y(),x("div",T,[d(R,{schema:b.value,"default-expanded":C.value},null,8,["schema","default-expanded"])])):(y(),x("div",U," 暂无示例数据 "))]),_:1})]),_:1})]),_:1})])}}});export{le as default};
