var A=Object.defineProperty,B=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var k=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var b=(n,o,a)=>o in n?A(n,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[o]=a,w=(n,o)=>{for(var a in o||(o={}))I.call(o,a)&&b(n,a,o[a]);if(k)for(var a of k(o))F.call(o,a)&&b(n,a,o[a]);return n},$=(n,o)=>B(n,N(o));import{b as O,w as m,_ as P}from"./bootstrap-COFeYdxT.js";import{u as z,M as D,a as J,b as K}from"./use-refresh-ClnDKZK2.js";import"./load-CVFOCylj.js";import{E as _}from"./el-button-CgUHT7o2.js";import{u as L,E as U}from"./el-input-CCsgInkM.js";import{a4 as q,J as C,P as H,ac as R,an as h,aq as u,aD as t,x as p,aH as v,aI as f,aE as y,ag as i,F as G,a$ as Q,ap as W,ao as X,aJ as E}from"../jse/index-index-CDB0BdC_.js";import"./index-DBFqezpu.js";import"./index-Cm6C0gw2.js";import"./use-form-common-props-BbEFXiss.js";const Y={class:"h-full overflow-y-auto bg-gray-50 px-4 py-8 sm:px-6 lg:px-8"},Z={class:"mx-auto max-w-6xl"},ee={class:"mb-6 flex items-center justify-between rounded-lg bg-white p-4 shadow-sm"},se={class:"flex items-center text-sm text-gray-500"},te={class:"grid grid-cols-1 gap-4"},oe=["onClick"],le={class:"flex h-full w-full items-start"},ae={class:"mr-4 flex h-10 w-10 items-center justify-center rounded-lg bg-[--el-color-primary-light-9]"},re={class:"text-[--el-color-primary]"},ne={class:"flex-1"},ie={class:"flex h-10 flex-col justify-between"},de={class:"font-medium text-gray-900"},ce={class:"text-sm text-gray-500"},ue={key:0,class:"mt-2 w-[50%]"},pe={class:"mt-2"},me=q({name:"Authorize",__name:"index",setup(n){const o=O(),a=L(),{refresh:M}=z(),V=C(()=>{var e,s,r;const l=(r=(s=(e=o.openApi)==null?void 0:e.components)==null?void 0:s.securitySchemes)!=null?r:{};return Object.entries(l).map(([c])=>$(w({},l[c]),{fold:!0})),l}),d=H(a.token),x=(l,e)=>{a.setToken(l,e),M()},S=l=>{l.fold=!l.fold},j=C(()=>{let l=0;return Object.keys(d.value).forEach(e=>{d.value[e]&&l++}),l}),T=()=>{Object.keys(d.value).forEach(l=>{x(null,l)})};return R(()=>{}),(l,e)=>(u(),h("div",Y,[t("div",Z,[e[7]||(e[7]=t("div",{class:"mb-8"},[t("h1",{class:"mb-2 text-2xl font-bold text-gray-900"},"全局认证配置"),t("p",{class:"text-gray-500"}," 配置全局认证后，所有 API 请求将自动携带对应的认证信息，支持同时配置多种认证方式，适用于不同的接口场景。 ")],-1)),t("div",ee,[t("div",se,[e[3]||(e[3]=t("span",{class:"mr-2 h-2 w-2 rounded-full bg-green-500"},null,-1)),v(" 已选择 "+f(j.value)+" 个认证方式 ",1)]),p(i(_),{class:"text-sm text-gray-500 transition-colors hover:text-red-500",onClick:T},{default:y(()=>e[4]||(e[4]=[v(" 清除全部认证 ")])),_:1,__:[4]})]),t("div",te,[(u(!0),h(G,null,Q(V.value,(s,r)=>(u(),h("div",{class:W(["relative cursor-pointer overflow-hidden rounded-lg border-2 bg-white p-4 shadow-sm transition-all hover:shadow-md",[d.value[`${r}_${s.in}`]?"border-[--el-color-primary-light-5]":""]]),key:r,onClick:c=>S(s)},[t("div",le,[t("div",ae,[t("i",re,[p(i(D))])]),t("div",ne,[t("div",ie,[t("h3",de,f(r)+"（"+f(s.type)+" "+f(s.scheme?`, ${s.scheme}`:s.scheme)+"） ",1),t("p",ce,f(s.description),1)]),s.fold?(u(),h("div",ue,[p(i(U),{placeholder:"请输入",modelValue:d.value[`${r}_${s.in}`],"onUpdate:modelValue":c=>d.value[`${r}_${s.in}`]=c,modelModifiers:{trim:!0},onClick:e[0]||(e[0]=m(()=>{},["stop"])),onKeydown:e[1]||(e[1]=m(()=>{},["stop"])),onKeyup:e[2]||(e[2]=m(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"]),t("div",pe,[p(i(_),{type:"primary",plain:"",onClick:m(c=>{var g;return x((g=d.value[`${r}_${s.in}`])!=null?g:null,`${r}_${s.in}`)},["stop"])},{default:y(()=>e[5]||(e[5]=[v(" 确定 ")])),_:2,__:[5]},1032,["onClick"]),p(i(_),{type:"primary",plain:"",onClick:m(c=>x(null,`${r}_${s.in}`),["stop"])},{default:y(()=>e[6]||(e[6]=[v(" 清除 ")])),_:2,__:[6]},1032,["onClick"])])])):X("",!0)]),p(i(_),{circle:""},{default:y(()=>[s.fold?(u(),E(i(J),{key:0})):(u(),E(i(K),{key:1}))]),_:2},1024)])],10,oe))),128))])])]))}}),$e=P(me,[["__scopeId","data-v-36b6e5b8"]]);export{$e as default};
