import{_ as I}from"./bootstrap-DHniKkV2.js";import{E as M}from"./el-divider-ClHGUlYs.js";import{E as f}from"./el-tag-k9XU8Vbb.js";import{a4 as S,J as B,ao as t,ar as e,x as v,ah as _,aE as k,aH as V,aI as c,ap as r,aJ as F,aD as u,F as o,a$ as m}from"../jse/index-index-BoHc453y.js";import"./use-form-common-props-x1wJ0Ch4.js";const J={class:"security-view"},R={key:0,class:"empty-state"},T={key:1,class:"security-content"},q={key:0,class:"security-item"},z={class:"value-content"},A={key:0,class:"connector-badge"},H={key:0,class:"connector-badge"},L={key:2,class:"security-item"},O={class:"value-content"},K={key:0,class:"connector-badge"},P={key:1,class:"connector-badge"},Q={key:3,class:"security-item"},U={class:"value-content"},W={key:0,class:"connector-badge"},X=S({name:"SecurityView",__name:"security-view",props:{metadata:{}},setup(D){const b=D,$=B(()=>{var s;return((s=b.metadata)==null?void 0:s.ignore)||!1}),C=B(()=>{var s,l,y,p,h,g;return $.value?!1:((y=(l=(s=b.metadata)==null?void 0:s.permissions)==null?void 0:l.length)!=null?y:0)>0||((g=(h=(p=b.metadata)==null?void 0:p.roles)==null?void 0:h.length)!=null?g:0)>0}),E=s=>({AND:"&",OR:"|",and:"&",or:"|"})[s]||s;return(s,l)=>{var y,p,h,g,w;return e(),t("div",J,[C.value?(e(),t("div",T,[(y=s.metadata.roles)!=null&&y.length?(e(),t("div",q,[l[0]||(l[0]=u("span",{class:"label"},"角色校验：",-1)),u("div",z,[(e(!0),t(o,null,m(s.metadata.roles,(a,n)=>(e(),t(o,{key:n},[(e(!0),t(o,null,m(a.values,(d,i)=>(e(),t(o,{key:`${n}-${i}`},[v(_(f),{type:"primary",effect:"light"},{default:k(()=>[V(c(d),1)]),_:2},1024),i<a.values.length-1?(e(),t("span",A,c(E(a.mode)),1)):r("",!0)],64))),128)),n<s.metadata.roles.length-1?(e(),t("span",H," | ")):r("",!0)],64))),128))])])):r("",!0),(p=s.metadata.roles)!=null&&p.length&&((h=s.metadata.permissions)!=null&&h.length)?(e(),F(_(M),{key:1})):r("",!0),(g=s.metadata.permissions)!=null&&g.length?(e(),t("div",L,[l[1]||(l[1]=u("span",{class:"label"},"权限校验：",-1)),u("div",O,[(e(!0),t(o,null,m(s.metadata.permissions,(a,n)=>(e(),t(o,{key:n},[a.values.length>0?(e(!0),t(o,{key:0},m(a.values,(d,i)=>(e(),t(o,{key:`perm-${n}-${i}`},[v(_(f),{type:"success",effect:"light"},{default:k(()=>[V(c(d),1)]),_:2},1024),i<a.values.length-1?(e(),t("span",K,c(E(a.mode)),1)):r("",!0)],64))),128)):r("",!0),n<s.metadata.permissions.length-1?(e(),t("span",P," | ")):r("",!0)],64))),128))])])):r("",!0),(w=s.metadata.permissions)!=null&&w.some(a=>{var n;return(n=a.orValues)==null?void 0:n.length})?(e(),t("div",Q,[l[2]||(l[2]=u("span",{class:"label"},"角色校验：",-1)),u("div",U,[(e(!0),t(o,null,m(s.metadata.permissions,(a,n)=>{var d;return e(),t(o,{key:n},[(d=a.orValues)!=null&&d.length?(e(!0),t(o,{key:0},m(a.orValues,(i,N)=>(e(),t(o,{key:`or-${n}-${N}`},[v(_(f),{type:"primary",effect:"light"},{default:k(()=>[V(c(i),1)]),_:2},1024),N<a.orValues.length-1?(e(),t("span",W," | ")):r("",!0)],64))),128)):r("",!0)],64)}),128))])])):r("",!0)])):(e(),t("div",R,[v(_(f),{type:"success",effect:"light",size:"default"},{default:k(()=>[V(c($.value?"跳过权限校验":"无权限要求"),1)]),_:1})]))])}}}),ee=I(X,[["__scopeId","data-v-3e997982"]]);export{ee as default};
