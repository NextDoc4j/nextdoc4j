var B=Object.defineProperty,N=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var b=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var g=(n,t,r)=>t in n?B(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,$=(n,t)=>{for(var r in t||(t={}))D.call(t,r)&&g(n,r,t[r]);if(b)for(var r of b(t))F.call(t,r)&&g(n,r,t[r]);return n},w=(n,t)=>N(n,A(t));import{b as I,w as v,_ as O}from"./bootstrap-C-bJPsS6.js";import{M as z,a as J,b as K}from"./index-D-FDdcwQ.js";import"./load-BZKAR3G8.js";import{E as _}from"./el-button-qnlOLWbr.js";import{u as L,E as P}from"./el-input-BPh3ElV1.js";import{a4 as U,J as C,P as q,ac as H,an as f,aq as p,aD as s,x as m,aH as y,aI as d,aE as x,ag as c,F as R,a$ as G,ap as Q,ao as W,aJ as E}from"../jse/index-index-kBnNEGX1.js";import{u as X}from"./use-refresh-D806NGpS.js";import"./index-ESHY9uk0.js";import"./index-8nVwdj2z.js";import"./use-form-common-props-TAzZIMSS.js";const Y={class:"h-full overflow-y-auto px-4 py-8 sm:px-6 lg:px-8",style:{color:"var(--el-text-color-primary)","background-color":"var(--el-bg-color)"}},Z={class:"mx-auto max-w-6xl"},ee={class:"mb-6 flex items-center justify-between rounded-lg p-4 shadow-sm",style:{"background-color":"var(--el-bg-color-overlay)",border:"1px solid var(--el-border-color)"}},oe={class:"flex items-center text-sm text-[var(--el-text-color-regular)]"},se={class:"grid grid-cols-1 gap-4"},te=["onClick"],le={class:"flex h-full w-full items-start"},re={class:"mr-4 flex h-10 w-10 items-center justify-center rounded-lg",style:{"background-color":"var(--el-color-primary-light-9)"}},ae={class:"text-[var(--el-color-primary)]"},ne={class:"flex-1"},ce={class:"flex h-10 flex-col justify-between"},ie={class:"font-medium text-[var(--el-text-color-primary)]"},de={class:"text-sm text-[var(--el-text-color-secondary)]"},ue={key:0,class:"mt-4 w-[55%] space-y-2"},pe={class:"text-sm leading-relaxed text-[var(--el-text-color-regular)]"},me={class:"font-medium"},ve={class:"text-[var(--el-text-color-secondary)]"},_e={class:"mt-2"},fe=U({name:"Authorize",__name:"index",setup(n){const t=I(),r=L(),{refresh:M}=X(),S=C(()=>{var e,o,a;const l=(a=(o=(e=t.openApi)==null?void 0:e.components)==null?void 0:o.securitySchemes)!=null?a:{};return Object.entries(l).map(([u])=>w($({},l[u]),{fold:!0})),l}),i=q(r.token),h=(l,e)=>{r.setToken(l,e),M()},V=l=>{l.fold=!l.fold},j=C(()=>{let l=0;return Object.keys(i.value).forEach(e=>{i.value[e]&&l++}),l}),T=()=>{Object.keys(i.value).forEach(l=>{h(null,l)})};return H(()=>{}),(l,e)=>(p(),f("div",Y,[s("div",Z,[e[7]||(e[7]=s("div",{class:"mb-8"},[s("h1",{class:"mb-2 text-2xl font-bold text-[var(--el-text-color-primary)]"}," 全局认证配置 "),s("p",{class:"text-[var(--el-text-color-secondary)]"}," 当前认证方式由 SpringDoc 配置自动生成。 启用全局认证后，请求将自动携带对应的认证信息，可按需配置不同类型的认证。 ")],-1)),s("div",ee,[s("div",oe,[e[3]||(e[3]=s("span",{class:"mr-2 h-2 w-2 rounded-full bg-[var(--el-color-success)]"},null,-1)),y(" 已选择 "+d(j.value)+" 个认证方式 ",1)]),m(c(_),{class:"text-sm transition-colors",plain:"",type:"danger",onClick:T},{default:x(()=>e[4]||(e[4]=[y(" 清除全部认证 ")])),_:1,__:[4]})]),s("div",se,[(p(!0),f(R,null,G(S.value,(o,a)=>(p(),f("div",{class:Q(["relative cursor-pointer overflow-hidden rounded-lg border-2 p-4 shadow-sm transition-all hover:shadow-md",[i.value[`${a}_${o.in}`]?"border-[var(--el-color-primary-light-5)]":"border-[var(--el-border-color)]"]]),style:{color:"var(--el-text-color-primary)","background-color":"var(--el-bg-color-overlay)"},key:a,onClick:u=>V(o)},[s("div",le,[s("div",re,[s("i",ae,[m(c(z))])]),s("div",ne,[s("div",ce,[s("h3",ie,d(a)+"（"+d(o.type)+" "+d(o.scheme?`, ${o.scheme}`:o.scheme)+"） ",1),s("p",de,d(o.description),1)]),o.fold?(p(),f("div",ue,[s("p",pe,[s("span",me,d(o.name),1),s("span",ve," （字段："+d(o.in)+"） ",1)]),m(c(P),{placeholder:"请输入",modelValue:i.value[`${a}_${o.in}`],"onUpdate:modelValue":u=>i.value[`${a}_${o.in}`]=u,modelModifiers:{trim:!0},onClick:e[0]||(e[0]=v(()=>{},["stop"])),onKeydown:e[1]||(e[1]=v(()=>{},["stop"])),onKeyup:e[2]||(e[2]=v(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue"]),s("div",_e,[m(c(_),{type:"primary",plain:"",onClick:v(u=>{var k;return h((k=i.value[`${a}_${o.in}`])!=null?k:null,`${a}_${o.in}`)},["stop"])},{default:x(()=>e[5]||(e[5]=[y(" 确定 ")])),_:2,__:[5]},1032,["onClick"]),m(c(_),{type:"primary",plain:"",onClick:v(u=>h(null,`${a}_${o.in}`),["stop"])},{default:x(()=>e[6]||(e[6]=[y(" 清除 ")])),_:2,__:[6]},1032,["onClick"])])])):W("",!0)]),m(c(_),{circle:""},{default:x(()=>[o.fold?(p(),E(c(J),{key:0})):(p(),E(c(K),{key:1}))]),_:2},1024)])],10,te))),128))])])]))}}),Se=O(fe,[["__scopeId","data-v-35b2c057"]]);export{Se as default};
