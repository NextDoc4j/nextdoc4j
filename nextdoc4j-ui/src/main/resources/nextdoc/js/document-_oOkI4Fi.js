var Ue=Object.defineProperty,We=Object.defineProperties;var Me=Object.getOwnPropertyDescriptors;var _e=Object.getOwnPropertySymbols;var Ge=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable;var xe=(u,o,a)=>o in u?Ue(u,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):u[o]=a,V=(u,o)=>{for(var a in o||(o={}))Ge.call(o,a)&&xe(u,a,o[a]);if(_e)for(var a of _e(o))Je.call(o,a)&&xe(u,a,o[a]);return u},q=(u,o)=>We(u,Me(o));var ke=(u,o,a)=>new Promise((b,e)=>{var f=t=>{try{i(a.next(t))}catch(n){e(n)}},g=t=>{try{i(a.throw(t))}catch(n){e(n)}},i=t=>t.done?b(t.value):Promise.resolve(t.value).then(f,g);i((a=a.apply(u,o)).next())});import{d as ee,e as Z,f as te,g as J,h as de,i as Qe,m as Ye,j as Xe,T as Ze,k as et,l as tt,E as st,n as at,w as ot,v as rt,o as Ie,p as pe,q as nt,r as lt,s as it,b as dt,_ as ct}from"./bootstrap-DeX8kNGY.js";import{A as pt,c as ut,d as mt}from"./index-GSJuJy-F.js";import"./load-sItwVdkL.js";import{C as je,U as Ae,t as ft,E as we}from"./el-button-DTAroKKD.js";import{c as $e,g as yt,f as gt,E as me,a as ht,b as vt,_ as Ce}from"./json-view.vue_vue_type_style_index_0_lang-Bgrx8ErH.js";import{S as bt}from"./index-YbiwEZFn.js";import{a4 as K,an as c,aq as r,ao as x,aD as p,ap as H,ag as s,aB as U,aH as G,aI as k,aG as fe,a as _t,d as xt,P as W,Y as De,J as T,av as Oe,b0 as Se,aJ as j,aE as $,aC as kt,b1 as wt,R as ye,x as A,aK as $t,aF as ie,k as se,F as z,a$ as L,aj as Ct,aP as St,b2 as Et}from"../jse/index-index-nDv0Qug6.js";import{m as ae}from"./methods-WRGAQ8mz.js";import{r as oe,g as Ee}from"./schema-Dr-cDthk.js";import{_ as Te}from"./parameter-view.vue_vue_type_script_setup_true_lang-Ce6LBsPS.js";import{_ as Tt}from"./path-segment.vue_vue_type_script_setup_true_lang-DGezG_rI.js";import{u as Nt}from"./use-form-common-props-C55ZhppA.js";import{u as Pt}from"./index-DJ3V8gZy.js";import"./index-DqaUdekJ.js";const Bt=ee({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:Z([String,Object,Array]),default:""},headerClass:String,bodyClass:String,footerClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),It=K({name:"ElCard"}),jt=K(q(V({},It),{props:Bt,setup(u){const o=J("card");return(a,b)=>(r(),c("div",{class:H([s(o).b(),s(o).is(`${a.shadow}-shadow`)])},[a.$slots.header||a.header?(r(),c("div",{key:0,class:H([s(o).e("header"),a.headerClass])},[U(a.$slots,"header",{},()=>[G(k(a.header),1)])],2)):x("v-if",!0),p("div",{class:H([s(o).e("body"),a.bodyClass]),style:fe(a.bodyStyle)},[U(a.$slots,"default")],6),a.$slots.footer||a.footer?(r(),c("div",{key:1,class:H([s(o).e("footer"),a.footerClass])},[U(a.$slots,"footer",{},()=>[G(k(a.footer),1)])],2)):x("v-if",!0)],2))}}));var At=te(jt,[["__file","card.vue"]]);const X=de(At),Ne=u=>Qe(u)||_t(u)||xt(u),Dt=ee({accordion:Boolean,modelValue:{type:Z([Array,String,Number]),default:()=>Ye([])},expandIconPosition:{type:Z([String]),default:"right"},beforeCollapse:{type:Z(Function)}}),Ot={[Ae]:Ne,[je]:Ne},He=Symbol("collapseContextKey"),Ht="ElCollapse",Kt=(u,o)=>{const a=W($e(u.modelValue)),b=g=>{a.value=g;const i=u.accordion?a.value[0]:a.value;o(Ae,i),o(je,i)},e=g=>{if(u.accordion)b([a.value[0]===g?"":g]);else{const i=[...a.value],t=i.indexOf(g);t>-1?i.splice(t,1):i.push(g),b(i)}},f=g=>ke(null,null,function*(){const{beforeCollapse:i}=u;if(!i){e(g);return}const t=i(g);[Se(t),Xe(t)].includes(!0)||ft(Ht,"beforeCollapse must return type `Promise<boolean>` or `boolean`"),Se(t)?t.then(h=>{h!==!1&&e(g)}).catch(h=>{}):t&&e(g)});return De(()=>u.modelValue,()=>a.value=$e(u.modelValue),{deep:!0}),Oe(He,{activeNames:a,handleItemClick:f}),{activeNames:a,setActiveNames:b}},Vt=u=>{const o=J("collapse");return{rootKls:T(()=>[o.b(),o.b(`icon-position-${u.expandIconPosition}`)])}},qt=K({name:"ElCollapse"}),zt=K(q(V({},qt),{props:Dt,emits:Ot,setup(u,{expose:o,emit:a}){const b=u,{activeNames:e,setActiveNames:f}=Kt(b,a),{rootKls:g}=Vt(b);return o({activeNames:e,setActiveNames:f}),(i,t)=>(r(),c("div",{class:H(s(g))},[U(i.$slots,"default")],2))}}));var Ft=te(zt,[["__file","collapse.vue"]]);const Rt=K({name:"ElCollapseTransition"}),Lt=K(q(V({},Rt),{setup(u){const o=J("collapse-transition"),a=e=>{e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom},b={beforeEnter(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height&&(e.dataset.elExistsHeight=e.style.height),e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){requestAnimationFrame(()=>{e.dataset.oldOverflow=e.style.overflow,e.dataset.elExistsHeight?e.style.maxHeight=e.dataset.elExistsHeight:e.scrollHeight!==0?e.style.maxHeight=`${e.scrollHeight}px`:e.style.maxHeight=0,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom,e.style.overflow="hidden"})},afterEnter(e){e.style.maxHeight="",e.style.overflow=e.dataset.oldOverflow},enterCancelled(e){a(e)},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.maxHeight=`${e.scrollHeight}px`,e.style.overflow="hidden"},leave(e){e.scrollHeight!==0&&(e.style.maxHeight=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){a(e)},leaveCancelled(e){a(e)}};return(e,f)=>(r(),j(Ze,kt({name:s(o).b()},wt(b)),{default:$(()=>[U(e.$slots,"default")]),_:3},16,["name"]))}}));var Ut=te(Lt,[["__file","collapse-transition.vue"]]);const Wt=de(Ut),Mt=ee({title:{type:String,default:""},name:{type:Z([String,Number]),default:void 0},icon:{type:tt,default:et},disabled:Boolean}),Gt=u=>{const o=ye(He),{namespace:a}=J("collapse"),b=W(!1),e=W(!1),f=Pt(),g=T(()=>f.current++),i=T(()=>{var N;return(N=u.name)!=null?N:`${a.value}-id-${f.prefix}-${s(g)}`}),t=T(()=>o==null?void 0:o.activeNames.value.includes(s(i)));return{focusing:b,id:g,isActive:t,handleFocus:()=>{setTimeout(()=>{e.value?e.value=!1:b.value=!0},50)},handleHeaderClick:N=>{if(u.disabled)return;const w=N.target;w!=null&&w.closest("input, textarea, select")||(o==null||o.handleItemClick(s(i)),b.value=!1,e.value=!0)},handleEnterClick:N=>{const w=N.target;w!=null&&w.closest("input, textarea, select")||(N.preventDefault(),o==null||o.handleItemClick(s(i)))}}},Jt=(u,{focusing:o,isActive:a,id:b})=>{const e=J("collapse"),f=T(()=>[e.b("item"),e.is("active",s(a)),e.is("disabled",u.disabled)]),g=T(()=>[e.be("item","header"),e.is("active",s(a)),{focusing:s(o)&&!u.disabled}]),i=T(()=>[e.be("item","arrow"),e.is("active",s(a))]),t=T(()=>[e.be("item","title")]),n=T(()=>e.be("item","wrap")),h=T(()=>e.be("item","content")),C=T(()=>e.b(`content-${s(b)}`)),N=T(()=>e.b(`head-${s(b)}`));return{itemTitleKls:t,arrowKls:i,headKls:g,rootKls:f,itemWrapperKls:n,itemContentKls:h,scopedContentId:C,scopedHeadId:N}},Qt=K({name:"ElCollapseItem"}),Yt=K(q(V({},Qt),{props:Mt,setup(u,{expose:o}){const a=u,{focusing:b,id:e,isActive:f,handleFocus:g,handleHeaderClick:i,handleEnterClick:t}=Gt(a),{arrowKls:n,headKls:h,rootKls:C,itemTitleKls:N,itemWrapperKls:w,itemContentKls:d,scopedContentId:P,scopedHeadId:S}=Jt(a,{focusing:b,isActive:f,id:e});return o({isActive:f}),(E,v)=>(r(),c("div",{class:H(s(C))},[p("div",{id:s(S),class:H(s(h)),"aria-expanded":s(f),"aria-controls":s(P),"aria-describedby":s(P),tabindex:E.disabled?-1:0,role:"button",onClick:s(i),onKeydown:at(ot(s(t),["stop"]),["space","enter"]),onFocus:s(g),onBlur:B=>b.value=!1},[p("span",{class:H(s(N))},[U(E.$slots,"title",{isActive:s(f)},()=>[G(k(E.title),1)])],2),U(E.$slots,"icon",{isActive:s(f)},()=>[A(s(st),{class:H(s(n))},{default:$(()=>[(r(),j($t(E.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),A(s(Wt),null,{default:$(()=>[ie(p("div",{id:s(P),role:"region",class:H(s(w)),"aria-hidden":!s(f),"aria-labelledby":s(S)},[p("div",{class:H(s(d))},[U(E.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[rt,s(f)]])]),_:3})],2))}}));var Ke=te(Yt,[["__file","collapse-item.vue"]]);const Xt=de(Ft,{CollapseItem:Ke}),Zt=Ie(Ke),ge=Symbol("elDescriptions");var re=K({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:ye(ge,{})}},render(){var u;const o=yt(this.cell),a=(((u=this.cell)==null?void 0:u.dirs)||[]).map(E=>{const{dir:v,arg:B,modifiers:Q,value:F}=E;return[v,F,B,Q]}),{border:b,direction:e}=this.descriptions,f=e==="vertical",g=()=>{var E,v,B;return((B=(v=(E=this.cell)==null?void 0:E.children)==null?void 0:v.label)==null?void 0:B.call(v))||o.label},i=()=>{var E,v,B;return(B=(v=(E=this.cell)==null?void 0:E.children)==null?void 0:v.default)==null?void 0:B.call(v)},t=o.span,n=o.rowspan,h=o.align?`is-${o.align}`:"",C=o.labelAlign?`is-${o.labelAlign}`:h,N=o.className,w=o.labelClassName,d=this.type==="label"&&(o.labelWidth||this.descriptions.labelWidth)||o.width,P={width:pe(d),minWidth:pe(o.minWidth)},S=J("descriptions");switch(this.type){case"label":return ie(se(this.tag,{style:P,class:[S.e("cell"),S.e("label"),S.is("bordered-label",b),S.is("vertical-label",f),C,w],colSpan:f?t:1,rowspan:f?1:n},g()),a);case"content":return ie(se(this.tag,{style:P,class:[S.e("cell"),S.e("content"),S.is("bordered-content",b),S.is("vertical-content",f),h,N],colSpan:f?t:t*2-1,rowspan:f?n*2-1:n},i()),a);default:{const E=g(),v={},B=pe(o.labelWidth||this.descriptions.labelWidth);return B&&(v.width=B,v.display="inline-block"),ie(se("td",{style:P,class:[S.e("cell"),h],colSpan:t,rowspan:n},[nt(E)?void 0:se("span",{style:v,class:[S.e("label"),w]},E),se("span",{class:[S.e("content"),N]},i())]),a)}}}});const es=ee({row:{type:Z(Array),default:()=>[]}}),ts=K({name:"ElDescriptionsRow"}),ss=K(q(V({},ts),{props:es,setup(u){const o=ye(ge,{});return(a,b)=>s(o).direction==="vertical"?(r(),c(z,{key:0},[p("tr",null,[(r(!0),c(z,null,L(a.row,(e,f)=>(r(),j(s(re),{key:`tr1-${f}`,cell:e,tag:"th",type:"label"},null,8,["cell"]))),128))]),p("tr",null,[(r(!0),c(z,null,L(a.row,(e,f)=>(r(),j(s(re),{key:`tr2-${f}`,cell:e,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(r(),c("tr",{key:1},[(r(!0),c(z,null,L(a.row,(e,f)=>(r(),c(z,{key:`tr3-${f}`},[s(o).border?(r(),c(z,{key:0},[A(s(re),{cell:e,tag:"td",type:"label"},null,8,["cell"]),A(s(re),{cell:e,tag:"td",type:"content"},null,8,["cell"])],64)):(r(),j(s(re),{key:1,cell:e,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}}));var as=te(ss,[["__file","descriptions-row.vue"]]);const os=ee({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:lt,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number],default:""}}),Ve="ElDescriptionsItem",rs=K({name:"ElDescriptions"}),ns=K(q(V({},rs),{props:os,setup(u){const o=u,a=J("descriptions"),b=Nt(),e=Ct();Oe(ge,o);const f=T(()=>[a.b(),a.m(b.value)]),g=(t,n,h,C=!1)=>(t.props||(t.props={}),n>h&&(t.props.span=h),C&&(t.props.span=n),t),i=()=>{if(!e.default)return[];const t=gt(e.default()).filter(d=>{var P;return((P=d==null?void 0:d.type)==null?void 0:P.name)===Ve}),n=[];let h=[],C=o.column,N=0;const w=[];return t.forEach((d,P)=>{var S,E,v;const B=((S=d.props)==null?void 0:S.span)||1,Q=((E=d.props)==null?void 0:E.rowspan)||1,F=n.length;if(w[F]||(w[F]=0),Q>1)for(let M=1;M<Q;M++)w[v=F+M]||(w[v]=0),w[F+M]++,N++;if(w[F]>0&&(C-=w[F],w[F]=0),P<t.length-1&&(N+=B>C?C:B),P===t.length-1){const M=o.column-N%o.column;h.push(g(d,M,C,!0)),n.push(h);return}B<C?(C-=B,h.push(d)):(h.push(g(d,B,C)),n.push(h),C=o.column,h=[])}),n};return(t,n)=>(r(),c("div",{class:H(s(f))},[t.title||t.extra||t.$slots.title||t.$slots.extra?(r(),c("div",{key:0,class:H(s(a).e("header"))},[p("div",{class:H(s(a).e("title"))},[U(t.$slots,"title",{},()=>[G(k(t.title),1)])],2),p("div",{class:H(s(a).e("extra"))},[U(t.$slots,"extra",{},()=>[G(k(t.extra),1)])],2)],2)):x("v-if",!0),p("div",{class:H(s(a).e("body"))},[p("table",{class:H([s(a).e("table"),s(a).is("bordered",t.border)])},[p("tbody",null,[(r(!0),c(z,null,L(i(),(h,C)=>(r(),j(as,{key:C,row:h},null,8,["row"]))),128))])],2)],2)],2))}}));var ls=te(ns,[["__file","description.vue"]]);const Pe=["left","center","right"],is=ee({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number],default:""},align:{type:String,values:Pe,default:"left"},labelAlign:{type:String,values:Pe},className:{type:String,default:""},labelClassName:{type:String,default:""}}),qe=K({name:Ve,props:is}),Be=de(ls,{DescriptionsItem:qe}),le=Ie(qe),ds={key:0,class:"flex items-center gap-2"},cs={class:"text-primary font-mono text-base font-bold"},ps={key:0,class:"flex rounded-md bg-gray-100/50 px-1.5 py-0.5 font-mono text-xs font-bold text-gray-600 dark:bg-white/5 dark:text-gray-200"},us={key:0},ms={class:"flex items-center gap-2"},fs={class:"flex items-center gap-2"},ys={class:"text-primary font-mono text-base font-bold"},gs={key:0,class:"flex rounded-md bg-gray-100/50 px-1.5 py-0.5 font-mono text-xs font-bold text-gray-600 dark:bg-white/5 dark:text-gray-200"},hs={class:"flex items-center"},vs={key:0},bs={key:0,class:"ml-1 text-xs text-gray-600 dark:text-gray-400"},_s={key:1,class:"flex rounded-md bg-gray-100/50 px-1.5 py-0.5 font-mono text-xs font-bold text-gray-600 dark:bg-white/5 dark:text-gray-200"},xs={key:0,class:"ml-1 text-xs text-gray-600 dark:text-gray-400"},ks={key:2,class:"flex items-center rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},ws={class:"max-w-24 truncate font-mono"},$s={key:3,class:"flex items-center rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},Cs={class:"font-mono"},Ss={key:4,class:"flex items-center rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},Es={class:"font-mono"},Ts={key:5,class:"flex items-center rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},Ns={class:"max-w-24 truncate font-mono"},Ps={key:6,class:"rounded-md bg-red-100/50 px-1.5 py-0.5 text-xs font-bold text-red-600 dark:bg-red-400/10 dark:text-red-300"},Bs={key:7,class:"rounded-md bg-green-100/50 px-1.5 py-0.5 text-xs font-bold text-green-600 dark:bg-green-400/10 dark:text-green-300"},Is={key:0,class:"mt-4 text-gray-600 dark:text-gray-400"},js=["innerHTML"],As={key:2,class:"mt-6 flex items-center"},Ds={class:"font-mono"},Os={key:3,class:"ml-8 overflow-hidden transition-all duration-200"},ue=K({name:"SchemaView",__name:"schema-view",props:{data:{}},setup(u){const o=W({}),a=t=>{var n;return t.type==="object"&&t.properties?Object.keys(t.properties).length>0:t.type==="array"&&((n=t.items)==null?void 0:n.type)==="object"},b=t=>{var n;return!t.type||t.type==="object"?t.properties||{}:t.type==="array"&&((n=t.items)==null?void 0:n.type)==="object"?t.items.properties||{}:{}},e=(t,n)=>{a(n)&&(o.value[t]=!o.value[t])},f=t=>t.enum?`enum<${t.type}>`:t.type,g=t=>{const n=t.schema||t,h=[];return n.minLength!==void 0&&h.push(`>=${n.minLength}${n.type==="string"?" 字符":""}`),n.maxLength!==void 0&&h.push(`<=${n.maxLength}${n.type==="string"?" 字符":""}`),n.minimum!==void 0&&h.push(`>=${n.minimum}`),n.maximum!==void 0&&h.push(`<=${n.maximum}`),h.join(" 或 ")},i=t=>t==null?void 0:t.includes("<");return(t,n)=>{var C,N,w;const h=St("SchemaView",!0);return((C=t.data)==null?void 0:C.type)==="array"&&((w=(N=t.data)==null?void 0:N.items)==null?void 0:w.type)!=="object"?(r(),c("div",ds,[p("span",cs,k(t.data.type),1),t.data.items.type?(r(),c("div",ps,[p("span",null,k(t.data.items.type),1),t.data.items.format?(r(),c("span",us,k(`<${t.data.items.format}>`),1)):x("",!0)])):x("",!0)])):(r(!0),c(z,{key:1},L(b(t.data),(d,P)=>{var S,E;return r(),c("div",{key:P,class:"border-b border-gray-100 py-6 last:border-b-0 last:pb-0 dark:border-gray-800"},[p("div",ms,[a(d)?(r(),j(s(bt),{key:0,class:H([{"rotate-90":!o.value[P],"cursor-pointer":a(d)},"size-4 transition-transform"]),onClick:v=>e(String(P),d)},null,8,["class","onClick"])):x("",!0),p("div",fs,[p("span",ys,k(P),1),f(d)?(r(),c("div",gs,[p("div",hs,[p("div",null,k(f(d)),1),d.title?(r(),c("span",vs,k(`<${d.title}>`),1)):x("",!0)]),d.format?(r(),c("span",bs,k(`<${d.format}>`),1)):x("",!0)])):x("",!0),d.type==="array"?(r(),c("div",_s,[p("div",null,[p("span",null,k(d.items.type)+"["+k(d.items.title)+"]",1),d.format?(r(),c("span",xs,k(`<${d.format}>`),1)):x("",!0)])])):x("",!0),!a(d)&&d.example?(r(),c("div",ks,[n[0]||(n[0]=p("span",{class:"mr-0.5 text-gray-400 dark:text-gray-500"},"示例值：",-1)),A(s(me),{placement:"top",content:String(d.example)},{default:$(()=>[p("span",ws,k(d.example),1)]),_:2},1032,["content"])])):x("",!0),!a(d)&&d.default?(r(),c("div",$s,[n[1]||(n[1]=p("span",{class:"mr-0.5 text-gray-400 dark:text-gray-500"},"默认值：",-1)),p("span",Cs,k(d.default),1)])):x("",!0),g(d)?(r(),c("div",Ss,[n[2]||(n[2]=p("span",{class:"mr-0.5 text-gray-400 dark:text-gray-500"}," 取值范围： ",-1)),p("span",Es,k(g(d)),1)])):x("",!0),d.pattern?(r(),c("div",Ts,[n[3]||(n[3]=p("span",{class:"mr-0.5 text-gray-400 dark:text-gray-500"}," 正则匹配： ",-1)),A(s(me),{placement:"top",content:String(d.pattern)},{default:$(()=>[p("span",Ns,k(d.pattern),1)]),_:2},1032,["content"])])):x("",!0),(E=(S=t.data)==null?void 0:S.required)!=null&&E.includes(P)?(r(),c("div",Ps," 必须 ")):(r(),c("div",Bs," 可选 "))])]),d.description&&!i(d.description)?(r(),c("div",Is,k(d.description),1)):x("",!0),d.description&&i(d.description)?(r(),c("div",{key:1,class:"mt-2 text-sm text-gray-600 dark:text-gray-400",innerHTML:d.description},null,8,js)):x("",!0),d.enum?(r(),c("div",As,[n[4]||(n[4]=p("span",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"}," 可用值： ",-1)),(r(!0),c(z,null,L(d.enum,v=>(r(),c("div",{key:v,class:"mr-2 rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},[p("span",Ds,k(v),1)]))),128))])):x("",!0),a(d)&&!o.value[P]?(r(),c("div",Os,[A(h,{data:d},null,8,["data"])])):x("",!0)])}),128))}}}),Hs={class:"relative flex h-full w-full gap-4 overflow-y-auto"},Ks={class:"flex flex-1 flex-col"},Vs={class:"flex flex-col p-5 pb-0"},qs={class:"text-primary text-sm font-semibold"},zs={class:"mt-3 text-3xl font-bold"},Fs={class:"prose prose-gray dark:prose-invert mt-2 text-lg"},Rs={class:"px-5"},Ls={class:"flex items-center justify-between"},Us={class:"font-mono"},Ws={class:"flex justify-between"},Ms={class:"flex items-center gap-2"},Gs={key:0,class:"rounded-md bg-red-100/50 px-1.5 py-0.5 font-mono text-xs font-bold text-red-600 dark:bg-red-400/10 dark:text-red-300"},Js={class:"px-2 py-0.5 font-mono text-xs text-gray-600 dark:text-gray-300"},Qs={key:0},Ys={key:1},Xs={key:0,class:"sticky top-0 flex-1"},Zs={class:"p-5"},ea={key:0,class:"mb-6"},ta={key:1},sa={key:2,class:"py-8 text-center text-gray-400"},aa=K({name:"DocumentView",__name:"document",props:{showTest:{type:Boolean}},emits:["test"],setup(u,{expose:o,emit:a}){const b=a,e=it(),f=dt(),g=W(""),i=W({}),t=W("200"),n=W(""),h=T(()=>{var m,_;const l=(_=(m=i.value)==null?void 0:m.parameters)==null?void 0:_.filter(I=>I.in==="path");return l&&l.length>0?l:null}),C=T(()=>{var m,_;const l=(_=(m=i.value)==null?void 0:m.parameters)==null?void 0:_.filter(I=>I.in==="query");return l&&l.length>0?l:null}),N=W("200"),w=T(()=>{var l,m;return((m=(l=i.value)==null?void 0:l.responses)==null?void 0:m[N.value])||null}),d=T(()=>{var _,I;if(!w.value)return null;const l=w.value.content||{},m=((_=l["application/json"])==null?void 0:_.schema)||((I=l["*/*"])==null?void 0:I.schema)||w.value.schema;return m?oe(m):null}),P=T(()=>d.value?Ee(d.value):null),S=(l,m="")=>{const _={};if(!l)return _;if(l.description&&(_[m]=l.description),l.type==="object"&&l.properties&&Object.entries(l.properties).forEach(([I,y])=>{const D=m?`${m}.${I}`:I,O=S(y,D);Object.assign(_,O)}),l.type==="array"&&l.items)if(l.items.type==="object"){const I=S(l.items,`${m}[]`);Object.assign(_,I)}else l.items.description&&(_[`${m}[]`]=l.items.description);return _},E=T(()=>d.value?S(d.value):{}),v=T(()=>{var y,D,O;const l=(y=i.value.requestBody)==null?void 0:y.content;if(!l)return null;const m=Object.keys(l)[0],_=(D=l[m])==null?void 0:D.schema;if(!_)return null;if(_.oneOf)return _.oneOf.map(ne=>{var he,ve;const R=oe(ne);if(R.allOf){const be={};return R.allOf.forEach(ce=>{const Le=ce.$ref?oe(ce):ce;Object.assign(be,Le.properties)}),q(V({},R),{title:R.title||((he=R.$ref)==null?void 0:he.split("/").pop())||"请求体",properties:be})}return q(V({},R),{title:R.title||((ve=R.$ref)==null?void 0:ve.split("/").pop())||"请求体"})});const I=oe(_);return q(V({},I),{title:I.title||((O=_.$ref)==null?void 0:O.split("/").pop())||"请求体"})});De(v,l=>{Array.isArray(l)&&l.length>0&&!n.value&&(n.value=l[0].title)},{immediate:!0});const B=T(()=>v.value?Array.isArray(v.value)?v.value.find(l=>l.title===n.value)||v.value[0]||null:v.value:null),Q=T(()=>B.value?S(B.value):{}),F=T(()=>B.value?Ee(B.value):null),M=l=>{if(!l)return{};if(l.properties)return l.properties;const m=(_,I=[])=>{const y={};return _&&Object.entries(_).forEach(([D,O])=>{var Y;y[D]=q(V({},O),{required:I.includes(D)}),O.type==="object"&&O.properties&&(y[D].properties=m(O.properties,O.required||[])),O.type==="array"&&((Y=O.items)==null?void 0:Y.type)==="object"&&O.items.properties&&(y[D].items=q(V({},O.items),{properties:m(O.items.properties,O.items.required||[])}))}),y};return m(l.properties||{},l.required||[])},ze=T(()=>{var I,y,D;if(!((I=w.value)!=null&&I.content))return{};const l=w.value.content,m=((y=l["application/json"])==null?void 0:y.schema)||((D=l["*/*"])==null?void 0:D.schema)||w.value.schema;if(!m)return{};const _=oe(m);return{type:"object",properties:M(_)}}),Fe=()=>{i.value&&b("test",i.value)},Re=T(()=>{const l=e.name;return(l==null?void 0:l.split("*")[1])||""});return Et(()=>{var D,O,Y,ne;const l=e.name;if(!l||typeof l!="string"){console.warn("Route name is not available");return}const[m="",_="",I=""]=(D=l.split("*"))!=null?D:[],y=f.searchPathData(m,_,I);if(y&&(i.value=y,y.responses)){const R=Object.keys(y.responses);t.value=R[0]||"200",N.value=R[0]||"200"}g.value=((ne=(Y=(O=f.openApi)==null?void 0:O.servers)==null?void 0:Y[0])==null?void 0:ne.url)||""}),o({requestBodyType:n}),(l,m)=>{var _,I;return r(),c("div",Hs,[p("div",Ks,[p("div",Vs,[p("div",qs,k(Re.value),1),p("h1",zs,k((_=i.value.summary)!=null?_:"暂无描述"),1),p("div",Fs,[p("p",null,k((I=i.value.description)!=null?I:"暂无描述")+"。",1)])]),p("div",Rs,[A(s(X),{shadow:"never","body-style":{padding:"10px"},class:"mt-6"},{default:$(()=>[p("div",Ls,[p("div",Us,[p("span",{class:"inline-flex items-center rounded-md px-1.5 py-1 font-bold",style:fe(s(ae)[i.value.method.toUpperCase()])},k(i.value.method.toUpperCase()),5),g.value?(r(),j(s(me),{key:0,placement:"top",content:g.value},{default:$(()=>[A(s(we),{size:"small",class:"ml-2 !px-1"},{default:$(()=>[A(s(pt),{class:"size-4"})]),_:1})]),_:1},8,["content"])):x("",!0),A(Tt,{path:i.value.path,"param-style":q(V({},s(ae)[i.value.method.toUpperCase()]),{borderColor:s(ae)[i.value.method.toUpperCase()].color}),class:"ml-2"},null,8,["path","param-style"])]),A(s(we),{text:"",size:"large",style:fe(s(ae)[i.value.method.toUpperCase()]),onClick:Fe,class:H(l.showTest?`${s(ae)[i.value.method.toUpperCase()].backgroundColor} !cursor-not-allowed opacity-50`:"")},{default:$(()=>[G(k(l.showTest?"":"调试")+" ",1),l.showTest?(r(),j(s(ut),{key:0,class:"ml-0.5 size-4 animate-spin"})):(r(),j(s(mt),{key:1,class:"ml-0.5 size-4"}))]),_:1},8,["style","class"])])]),_:1})]),h.value||C.value||v.value?(r(),j(s(Be),{key:0,column:1,title:"请求参数",class:"mt-4 p-5"},{default:$(()=>[h.value?(r(),j(s(le),{key:0},{default:$(()=>[A(s(X),{bordered:"",shadow:"never",header:"Path 参数"},{default:$(()=>[(r(!0),c(z,null,L(h.value,y=>(r(),j(Te,{key:y.name,parameter:y},null,8,["parameter"]))),128))]),_:1})]),_:1})):x("",!0),C.value?(r(),j(s(le),{key:1},{default:$(()=>[A(s(X),{bordered:"",shadow:"never",header:"Query 参数"},{default:$(()=>[(r(!0),c(z,null,L(C.value,y=>(r(),j(Te,{key:y.name,parameter:y},null,8,["parameter"]))),128))]),_:1})]),_:1})):x("",!0),v.value?(r(),j(s(le),{key:2},{default:$(()=>[A(s(X),{bordered:"",shadow:"never",header:"Body 参数"},{header:$(()=>{var y;return[p("div",Ws,[p("div",Ms,[m[2]||(m[2]=p("span",null,"Body 参数",-1)),n.value?(r(),c("div",Gs,k(n.value),1)):x("",!0)]),p("div",Js,k((y=Object.keys(i.value.requestBody.content)[0])!=null?y:"application/json"),1)])]}),default:$(()=>[Array.isArray(v.value)?(r(),c("div",Qs,[A(s(ht),{modelValue:n.value,"onUpdate:modelValue":m[0]||(m[0]=y=>n.value=y),size:"small"},{default:$(()=>[(r(!0),c(z,null,L(v.value,y=>(r(),j(s(vt),{key:y.title,value:y.title,label:y.title},{default:$(()=>[G(k(y.title),1)]),_:2},1032,["value","label"]))),128))]),_:1},8,["modelValue"]),B.value?(r(),j(ue,{key:n.value,data:B.value},null,8,["data"])):x("",!0)])):(r(),c("div",Ys,[A(ue,{data:v.value},null,8,["data"])]))]),_:1})]),_:1})):x("",!0)]),_:1})):x("",!0),A(s(Be),{column:1,title:"响应结果",class:"p-5"},{default:$(()=>[A(s(le),null,{default:$(()=>[A(s(X),{shadow:"never"},{default:$(()=>[i.value?(r(),j(s(Xt),{key:0,modelValue:t.value,"onUpdate:modelValue":m[1]||(m[1]=y=>t.value=y),accordion:"",style:{border:"none"}},{default:$(()=>[(r(!0),c(z,null,L(i.value.responses,(y,D)=>(r(),j(s(Zt),{key:D,name:D},{title:$(()=>[G(k(D),1)]),default:$(()=>[A(ue,{data:ze.value},null,8,["data"])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])):x("",!0)]),_:1})]),_:1})]),_:1})]),l.showTest?x("",!0):(r(),c("div",Xs,[p("div",Zs,[A(s(X),{shadow:"never",class:"overflow-y: auto max-h-[calc(100vh-40px)]"},{header:$(()=>m[3]||(m[3]=[p("div",{class:"font-bold"},"示例",-1)])),default:$(()=>[v.value?(r(),c("div",ea,[m[4]||(m[4]=p("div",{class:"mb-3 text-sm text-gray-700 dark:text-gray-300"}," 请求示例 ",-1)),(r(),j(Ce,{key:`request-${i.value.path}`,data:F.value,descriptions:Q.value,"image-render":!1},null,8,["data","descriptions"]))])):x("",!0),P.value?(r(),c("div",ta,[m[5]||(m[5]=p("div",{class:"mb-3 text-sm text-gray-700 dark:text-gray-300"}," 响应示例 ",-1)),(r(),j(Ce,{key:`response-${i.value.path}`,data:P.value,descriptions:E.value,"image-render":!1},null,8,["data","descriptions"]))])):x("",!0),!v.value&&!P.value?(r(),c("div",sa," 暂无示例数据 ")):x("",!0)]),_:1})])]))])}}}),ba=ct(aa,[["__scopeId","data-v-9a3da63d"]]);export{ba as default};
