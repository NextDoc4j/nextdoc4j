var y=Object.defineProperty,j=Object.defineProperties;var O=Object.getOwnPropertyDescriptors;var a=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable;var b=(r,e,t)=>e in r?y(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,p=(r,e)=>{for(var t in e||(e={}))g.call(e,t)&&b(r,t,e[t]);if(a)for(var t of a(e))d.call(e,t)&&b(r,t,e[t]);return r},f=(r,e)=>j(r,O(e));import{b as $}from"./bootstrap-DHniKkV2.js";function u(r,e=new Set){var s,o;if(!r)return null;const{openApi:t}=$();if(!t)return null;try{if(r.$ref){const n=r.$ref.replace("#/components/schemas/","");if(e.has(n))return{type:"ref",title:n};const i=(o=(s=t.components)==null?void 0:s.schemas)==null?void 0:o[n];if(!i)return{type:"unknown",title:n};e.add(n);const l=u(i,e);return f(p({},l),{title:n})}if(r.type==="object"||r.properties){const n={};for(const[i,l]of Object.entries(r.properties||{}))l&&(n[i]=u(l,new Set(e)));return f(p({},r),{type:"object",properties:n,required:r.required||[]})}return r.type==="array"&&r.items?f(p({},r),{type:"array",items:u(r.items,e)}):r}catch(n){return{type:"error",error:n instanceof Error?n.message:"Unknown error"}}}function c(r){var t,s,o;if(!r)return null;if(r.example!==void 0)return r.example;if(r.type==="oneOf"&&((t=r.items)==null?void 0:t.length)>0)return c(r.items[0]);const e={};switch(r.type){case"array":return r.items?[c(r.items)]:[];case"boolean":return!1;case"integer":case"number":return((s=r.enum)==null?void 0:s[0])||0;case"object":{if(!r.properties)return{};for(const[n,i]of Object.entries(r.properties))e[n]=c(i);return e}case"string":return((o=r.enum)==null?void 0:o[0])||"string";default:{if(r.properties){for(const[n,i]of Object.entries(r.properties))e[n]=c(i);return e}return null}}}const w=r=>{if(!r)return{};const e={};if(r.properties){const t=Object.fromEntries(Object.entries(r.properties).map(([s,o])=>{var n;if(o.$ref){const i=u(o);return[s,f(p({},i),{format:i.title})]}if(o.type==="array"&&((n=o.items)!=null&&n.$ref)){const i=u(o.items);return[s,f(p({},o),{items:i})]}return[s,o]}));Object.assign(e,t)}else if(r.items){const t=Object.fromEntries(Object.entries(r.items).map(([s,o])=>{var n;if(o.$ref){const i=u(o);return[s,f(p({},i),{format:i.title})]}if(o.type==="array"&&((n=o.items)!=null&&n.$ref)){const i=u(o.items);return[s,f(p({},o),{items:i})]}return[s,o]}));Object.assign(e,t)}return r.allOf&&r.allOf.forEach(t=>{if(t.$ref){const s=u(t);Object.assign(e,{[s.title]:s})}Object.assign(e,t.properties)}),e};export{c as g,w as p,u as r};
