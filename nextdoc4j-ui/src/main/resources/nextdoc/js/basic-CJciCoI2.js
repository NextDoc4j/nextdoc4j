var h=Object.defineProperty;var _=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var k=(t,e,a)=>e in t?h(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,i=(t,e)=>{for(var a in e||(e={}))W.call(e,a)&&k(t,a,e[a]);if(_)for(var a of _(e))g.call(e,a)&&k(t,a,e[a]);return t};var c=(t,e,a)=>new Promise((r,o)=>{var u=s=>{try{p(a.next(s))}catch(f){o(f)}},m=s=>{try{p(a.throw(s))}catch(f){o(f)}},p=s=>s.done?r(s.value):Promise.resolve(s.value).then(u,m);p((a=a.apply(t,e)).next())});import{r as d,p as x,$ as O,W as C,_ as E,e as T,w as $,q as b,o as A,s as B,E as L,u as v,K as w}from"../jse/index-index-Cr1u2jcp.js";import{_ as P,a as S}from"./layout.vue_vue_type_script_setup_true_lang-De2spXJn.js";import"./bootstrap-Bwv7EoT6.js";import"./index-B7WQbBuP.js";import"./rotate-cw-BlPbtDe7.js";import"./use-refresh-BSouFWSS.js";import"./index-J8Sesp1O.js";const n=d(),y=d(!1),l=d({advancedStyle:{colorStops:[{color:"gray",offset:0},{color:"gray",offset:1}],type:"linear"},content:"",contentType:"multi-line-text",globalAlpha:.25,gridLayoutOptions:{cols:2,gap:[20,20],matrix:[[1,0],[0,1]],rows:2},height:200,layout:"grid",rotate:30,width:160});function V(){function t(r){return c(this,null,function*(){var u;const{Watermark:o}=yield E(()=>c(null,null,function*(){const{Watermark:m}=yield import("./index.esm-Ofvdfudw.js");return{Watermark:m}}),[],import.meta.url);l.value=i(i({},l.value),r),n.value=new o(l.value),yield(u=n.value)==null?void 0:u.create()})}function e(r){return c(this,null,function*(){var o;n.value?(yield C(),yield(o=n.value)==null?void 0:o.changeOptions(i(i({},l.value),r))):yield t(r)})}function a(){n.value&&(n.value.destroy(),n.value=void 0)}return y.value||(y.value=!0,x(()=>{a()})),{destroyWatermark:a,updateWatermark:e,watermark:O(n)}}const j=T({__name:"basic",setup(t){const{destroyWatermark:e,updateWatermark:a}=V();return $(()=>w.app.watermark,r=>c(null,null,function*(){r?yield a({content:w.app.watermarkContent}):e()}),{immediate:!0}),(r,o)=>(A(),b(v(S),null,{"lock-screen":B(()=>[L(v(P))]),_:1}))}});export{j as default};
