import{r as M}from"./schema-C7iGkEHE.js";import{a4 as T,J as p,an as r,aq as s,F as y,aD as a,ao as i,aI as d,a$ as v}from"../jse/index-index-kBnNEGX1.js";function $e(u){if(!u)return null;const o=u["x-nextdoc4j-enum"];if(!(o!=null&&o.items)||!Array.isArray(o.items))return null;const n=o.items.filter(x=>x&&x.value).map(x=>x.description?`${x.value} - ${x.description}`:x.value);return n.length>0?n.join(", "):null}function P(u){if(!u)return[];const o=u["x-nextdoc4j-enum"];return!(o!=null&&o.items)||!Array.isArray(o.items)?u.enum&&Array.isArray(u.enum)?u.enum.map(n=>({value:n})):[]:o.items.filter(n=>n&&n.value)}const S={class:"border-b border-gray-100 py-6 last:border-b-0 last:pb-0 dark:border-gray-800"},V={class:"mb-2 flex items-center gap-2"},q={class:"text-primary font-mono text-base font-bold"},C={key:0,class:"flex rounded-md bg-gray-100/50 px-1.5 font-mono text-xs font-bold text-gray-600 dark:bg-white/5 dark:text-gray-200"},F={key:0},N={key:1,class:"flex items-center rounded-md bg-gray-100/50 px-1.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},J={class:"font-mono"},z={key:2,class:"flex items-center rounded-md bg-gray-100/50 px-1.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},G={class:"font-mono"},K={key:3,class:"flex items-center rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},O={class:"font-mono"},Q={key:0,class:"text-gray-600 dark:text-gray-400"},R=["innerHTML"],U={key:2,class:"mt-4"},W={class:"flex flex-wrap gap-2"},X={class:"text-primary font-mono font-semibold"},Y={key:0,class:"text-gray-600 dark:text-gray-400"},Z={key:3,class:"mt-6 flex items-center"},ee={class:"font-mono"},te={class:"mb-2 flex items-center gap-2"},re={class:"flex items-center gap-2"},se={class:"font-mono text-base font-bold text-red-600"},ae={key:0,class:"flex rounded-md bg-gray-100/50 px-1.5 py-0.5 font-mono text-xs font-bold text-gray-600 dark:bg-white/5 dark:text-gray-200"},ne={key:0},oe={key:1,class:"flex items-center rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},de={class:"font-mono"},ie={key:2,class:"flex items-center rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},le={class:"font-mono"},me={key:3,class:"flex items-center rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},ue={class:"font-mono"},xe={key:4,class:"rounded-md bg-red-100/50 px-1.5 py-0.5 text-xs font-bold text-red-600 dark:bg-red-400/10 dark:text-red-300"},pe={key:5,class:"rounded-md bg-green-100/50 px-1.5 py-0.5 text-xs font-bold text-green-600 dark:bg-green-400/10 dark:text-green-300"},ye={class:"mt-4 text-gray-600 dark:text-gray-400"},ge=["innerHTML"],ce={key:1,class:"mt-4"},ve={class:"flex flex-wrap gap-2"},fe={class:"text-primary font-mono font-semibold"},ke={key:0,class:"text-gray-600 dark:text-gray-400"},_e={key:2,class:"mt-6 flex items-center"},be={class:"font-mono"},Le=T({name:"ParameterView",__name:"parameter-view",props:{parameter:{}},setup(u){const o=u,n=p(()=>o.parameter.schema?M(o.parameter.schema):null),x=p(()=>o.parameter.in==="path"),g=p(()=>{const t=n.value||o.parameter,e=[];return t.minLength!==void 0&&e.push(`>=${t.minLength}${t.type==="string"?" 字符":""}`),t.maxLength!==void 0&&e.push(`<=${t.maxLength}${t.type==="string"?" 字符":""}`),t.minimum!==void 0&&e.push(`>=${t.minimum}`),t.maximum!==void 0&&e.push(`<=${t.maximum}`),e.join(" 或 ")}),_=p(()=>{var e,m;const t=o.parameter.description||((m=(e=n.value)==null?void 0:e.items)==null?void 0:m.description);return t==null?void 0:t.includes("<")}),f=p(()=>{var e,m;const t=o.parameter.description||((m=(e=n.value)==null?void 0:e.items)==null?void 0:m.description);return _.value?null:t}),c=p(()=>{var e,m;const t=o.parameter.description||((m=(e=n.value)==null?void 0:e.items)==null?void 0:m.description);return _.value?t:null}),k=p(()=>{const t=n.value||o.parameter.schema;return t?P(t):[]}),b=p(()=>k.value.some(t=>t.description));return(t,e)=>{var m,h,w,$,L,A,B,D,H,j,E,I;return s(),r("div",S,[x.value?(s(),r(y,{key:0},[a("div",V,[a("span",q,d(t.parameter.name),1),n.value?(s(),r("div",C,[a("span",null,d(n.value.type),1),n.value.format?(s(),r("span",F,d(`<${n.value.format}>`),1)):i("",!0)])):i("",!0),t.parameter.example?(s(),r("div",N,[e[0]||(e[0]=a("span",{class:"mr-0.5 text-gray-400 dark:text-gray-500"},"示例值:",-1)),a("span",J,d(t.parameter.example),1)])):i("",!0),t.parameter.default?(s(),r("div",z,[e[1]||(e[1]=a("span",{class:"mr-0.5 text-gray-400 dark:text-gray-500"},"默认值:",-1)),a("span",G,d(t.parameter.default),1)])):i("",!0),g.value?(s(),r("div",K,[e[2]||(e[2]=a("span",{class:"mr-0.5 text-gray-400 dark:text-gray-500"}," 取值范围: ",-1)),a("span",O,d(g.value),1)])):i("",!0),e[3]||(e[3]=a("div",{class:"rounded-md bg-red-100/50 px-1.5 text-xs font-bold text-red-600 dark:bg-red-400/10 dark:text-red-300"}," 必须 ",-1))]),f.value?(s(),r("div",Q,d(f.value),1)):i("",!0),c.value?(s(),r("div",{key:1,class:"mt-2 text-gray-600 dark:text-gray-400",innerHTML:c.value},null,8,R)):i("",!0),b.value?(s(),r("div",U,[e[4]||(e[4]=a("div",{class:"mb-2 text-xs font-medium text-gray-600 dark:text-gray-400"}," 可用值: ",-1)),a("div",W,[(s(!0),r(y,null,v(k.value,l=>(s(),r("div",{key:l.value,class:"bg-primary/5 inline-flex items-center gap-1.5 rounded-md px-2.5 py-1.5 text-xs"},[a("span",X,d(l.value),1),l.description?(s(),r("span",Y," - "+d(l.description),1)):i("",!0)]))),128))])])):(m=n.value)!=null&&m.enum||(w=(h=n.value)==null?void 0:h.items)!=null&&w.enum?(s(),r("div",Z,[e[5]||(e[5]=a("span",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"}," 可用值: ",-1)),(s(!0),r(y,null,v(((($=n.value)==null?void 0:$.enum)||((A=(L=n.value)==null?void 0:L.items)==null?void 0:A.enum)).filter(Boolean),l=>(s(),r("div",{key:l,class:"mr-2 rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},[a("span",ee,d(l),1)]))),128))])):i("",!0)],64)):(s(),r(y,{key:1},[a("div",te,[a("div",re,[a("span",se,d(t.parameter.name),1),n.value?(s(),r("div",ae,[a("span",null,d(n.value.type),1),n.value.format?(s(),r("span",ne,d(`<${n.value.format}>`),1)):i("",!0)])):i("",!0),t.parameter.example?(s(),r("div",oe,[e[6]||(e[6]=a("span",{class:"mr-0.5 text-gray-400 dark:text-gray-500"}," 示例值: ",-1)),a("span",de,d(t.parameter.example),1)])):i("",!0),t.parameter.default?(s(),r("div",ie,[e[7]||(e[7]=a("span",{class:"mr-0.5 text-gray-400 dark:text-gray-500"}," 默认值: ",-1)),a("span",le,d(t.parameter.default),1)])):i("",!0),g.value?(s(),r("div",me,[e[8]||(e[8]=a("span",{class:"mr-0.5 text-gray-400 dark:text-gray-500"}," 取值范围: ",-1)),a("span",ue,d(g.value),1)])):i("",!0),t.parameter.required?(s(),r("div",xe," 必须 ")):(s(),r("div",pe," 可选 "))])]),a("div",ye,d(f.value),1),c.value?(s(),r("div",{key:0,class:"mt-2 text-sm text-gray-600 dark:text-gray-400",innerHTML:c.value},null,8,ge)):i("",!0),b.value?(s(),r("div",ce,[e[9]||(e[9]=a("div",{class:"mb-2 text-xs font-medium text-gray-600 dark:text-gray-400"}," 可用值: ",-1)),a("div",ve,[(s(!0),r(y,null,v(k.value,l=>(s(),r("div",{key:l.value,class:"bg-primary/5 inline-flex items-center gap-1.5 rounded-md px-2.5 py-1.5 text-xs"},[a("span",fe,d(l.value),1),l.description?(s(),r("span",ke," - "+d(l.description),1)):i("",!0)]))),128))])])):(B=n.value)!=null&&B.enum||(H=(D=n.value)==null?void 0:D.items)!=null&&H.enum?(s(),r("div",_e,[e[10]||(e[10]=a("span",{class:"text-xs font-medium text-gray-600 dark:text-gray-400"}," 可用值: ",-1)),(s(!0),r(y,null,v((((j=n.value)==null?void 0:j.enum)||((I=(E=n.value)==null?void 0:E.items)==null?void 0:I.enum)).filter(Boolean),l=>(s(),r("div",{key:l,class:"mr-2 rounded-md bg-gray-100/50 px-1.5 py-0.5 text-xs text-gray-600 dark:bg-white/5 dark:text-gray-200"},[a("span",be,d(l),1)]))),128))])):i("",!0)],64))])}}});export{Le as _,P as g,$e as p};
