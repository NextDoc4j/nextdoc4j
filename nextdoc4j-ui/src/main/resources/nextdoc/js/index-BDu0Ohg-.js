var De=Object.defineProperty,Ce=Object.defineProperties;var Ee=Object.getOwnPropertyDescriptors;var Z=Object.getOwnPropertySymbols;var Ae=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable;var Q=(a,s,t)=>s in a?De(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,y=(a,s)=>{for(var t in s||(s={}))Ae.call(s,t)&&Q(a,t,s[t]);if(Z)for(var t of Z(s))Re.call(s,t)&&Q(a,t,s[t]);return a},K=(a,s)=>Ce(a,Ee(s));import{e as ne,m as Oe,c as S,r as ae,j as we,A as xe,o as Ie,l as h,O as f,u as r,D as w,E as x,ai as A,i as L,a7 as Ve,x as Me}from"../jse/index-index-Cr1u2jcp.js";import{t as Ne,P as Fe,u as Ue,a as ye,T as W,b as Ke,c as Le,d as He,e as Be,D as je,C as qe,f as Ye}from"./panel-time-pick-DYIna-Bf.js";import{n as Hn,o as Bn,g as jn,h as qn,i as Yn,j as $n,k as Gn,l as Jn,m as zn,p as Zn,r as Qn,s as Wn,w as Xn,q as ea,v as na}from"./panel-time-pick-DYIna-Bf.js";import{o as $e,p as Ge,k as Je,t as ze,l as X,a6 as Ze,w as Qe}from"./bootstrap-Bwv7EoT6.js";import{b as We,U as ee}from"./index-BIIh2HTk.js";import{b as Xe,i as en}from"./isArrayLikeObject-CtTy5_9z.js";import{S as H,s as te,b as nn,c as an}from"./isEqual-29hxSYt8.js";import{b as tn}from"./_baseFindIndex-D7XfJLKM.js";import"./index-CPZqfyw2.js";import"./browser-R1mRplSO.js";import"./index-oyWSfp_e.js";import"./use-form-item-BDbynDq4.js";import"./use-form-common-props-CCSLhXk1.js";import"./index-CLNXs_rc.js";import"./aria-DGfENwCE.js";import"./error-CYJGVSdm.js";import"./index-BuaxDZ9K.js";import"./index-DTCIFMXo.js";import"./util-B2mB0_6C.js";import"./index-HyO7b-wk.js";function sn(){}function on(a){return a!==a}function rn(a,s,t){for(var c=t-1,d=a.length;++c<d;)if(a[c]===s)return c;return-1}function ln(a,s,t){return s===s?rn(a,s,t):tn(a,on,t)}function cn(a,s){var t=a==null?0:a.length;return!!t&&ln(a,s,0)>-1}var un=1/0,pn=H&&1/te(new H([,-0]))[1]==un?function(a){return new H(a)}:sn,dn=200;function mn(a,s,t){var c=-1,d=cn,b=a.length,o=!0,v=[],m=v;if(b>=dn){var _=pn(a);if(_)return te(_);o=!1,d=an,m=new nn}else m=v;e:for(;++c<b;){var k=a[c],T=k;if(k=k!==0?k:0,o&&T===T){for(var R=m.length;R--;)if(m[R]===T)continue e;v.push(k)}else d(m,T,t)||(m!==v&&m.push(T),v.push(k))}return v}var B=Xe(function(a){return mn(We(a,1,en,!0))});const fn=$e(K(y({},Ne),{parsedValue:{type:Ge(Array)}})),bn=ne({__name:"panel-time-range",props:fn,emits:["pick","select-range","set-picker-option"],setup(a,{emit:s}){const t=a,c=(e,n)=>{const i=[];for(let l=e;l<=n;l++)i.push(l);return i},{t:d,lang:b}=ze(),o=X("time"),v=X("picker"),m=Oe(Fe),{arrowControl:_,disabledHours:k,disabledMinutes:T,disabledSeconds:R,defaultValue:I}=m.props,se=S(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",_),C.value?"has-seconds":""]),oe=S(()=>[o.be("range-picker","body"),o.be("panel","content"),o.is("arrow",_),C.value?"has-seconds":""]),P=S(()=>t.parsedValue[0]),D=S(()=>t.parsedValue[1]),re=Ue(t),ie=()=>{s("pick",re.value,!1)},C=S(()=>t.format.includes("ss")),j=S(()=>t.format.includes("A")?"A":t.format.includes("a")?"a":""),le=(e=!1)=>{s("pick",[P.value,D.value],e)},ce=e=>{q(e.millisecond(0),D.value)},ue=e=>{q(P.value,e.millisecond(0))},pe=e=>{const n=e.map(l=>A(l).locale(b.value)),i=$(n);return n[0].isSame(i[0])&&n[1].isSame(i[1])},q=(e,n)=>{t.visible&&s("pick",[e,n],!0)},de=S(()=>P.value>D.value),O=ae([0,2]),me=(e,n)=>{s("select-range",e,n,"min"),O.value=[e,n]},Y=S(()=>C.value?11:8),fe=(e,n)=>{s("select-range",e,n,"max");const i=r(Y);O.value=[e+i,n+i]},be=e=>{const n=C.value?[0,3,6,11,14,17]:[0,3,8,11],i=["hours","minutes"].concat(C.value?["seconds"]:[]),u=(n.indexOf(O.value[0])+e+n.length)%n.length,p=n.length/2;u<p?F.start_emitSelectRange(i[u]):F.end_emitSelectRange(i[u-p])},ve=e=>{const n=e.code,{left:i,right:l,up:u,down:p}=Ze;if([i,l].includes(n)){be(n===i?-1:1),e.preventDefault();return}if([u,p].includes(n)){const g=n===u?-1:1,E=O.value[0]<Y.value?"start":"end";F[`${E}_scrollDown`](g),e.preventDefault();return}},V=(e,n)=>{const i=k?k(e):[],l=e==="start",p=(n||(l?D.value:P.value)).hour(),g=l?c(p+1,23):c(0,p-1);return B(i,g)},M=(e,n,i)=>{const l=T?T(e,n):[],u=n==="start",p=i||(u?D.value:P.value),g=p.hour();if(e!==g)return l;const E=p.minute(),U=u?c(E+1,59):c(0,E-1);return B(l,U)},N=(e,n,i,l)=>{const u=R?R(e,n,i):[],p=i==="start",g=l||(p?D.value:P.value),E=g.hour(),U=g.minute();if(e!==E||n!==U)return u;const z=g.second(),Pe=p?c(z+1,59):c(0,z-1);return B(u,Pe)},$=([e,n])=>[G(e,"start",!0,n),G(n,"end",!1,e)],{getAvailableHours:ge,getAvailableMinutes:he,getAvailableSeconds:ke}=Ke(V,M,N),{timePickerOptions:F,getAvailableTime:G,onSetOption:J}=ye({getAvailableHours:ge,getAvailableMinutes:he,getAvailableSeconds:ke}),Te=e=>e?L(e)?e.map(n=>A(n,t.format).locale(b.value)):A(e,t.format).locale(b.value):null,Se=e=>e?L(e)?e.map(n=>n.format(t.format)):e.format(t.format):null,_e=()=>{if(L(I))return I.map(n=>A(n).locale(b.value));const e=A(I).locale(b.value);return[e,e.add(60,"m")]};return s("set-picker-option",["formatToString",Se]),s("set-picker-option",["parseUserInput",Te]),s("set-picker-option",["isValidValue",pe]),s("set-picker-option",["handleKeydownInput",ve]),s("set-picker-option",["getDefaultValue",_e]),s("set-picker-option",["getRangeAvailableTime",$]),(e,n)=>e.actualVisible?(Ie(),we("div",{key:0,class:f([r(o).b("range-picker"),r(v).b("panel")])},[h("div",{class:f(r(o).be("range-picker","content"))},[h("div",{class:f(r(o).be("range-picker","cell"))},[h("div",{class:f(r(o).be("range-picker","header"))},w(r(d)("el.datepicker.startTime")),3),h("div",{class:f(r(se))},[x(W,{ref:"minSpinner",role:"start","show-seconds":r(C),"am-pm-mode":r(j),"arrow-control":r(_),"spinner-date":r(P),"disabled-hours":V,"disabled-minutes":M,"disabled-seconds":N,onChange:ce,onSetOption:r(J),onSelectRange:me},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),h("div",{class:f(r(o).be("range-picker","cell"))},[h("div",{class:f(r(o).be("range-picker","header"))},w(r(d)("el.datepicker.endTime")),3),h("div",{class:f(r(oe))},[x(W,{ref:"maxSpinner",role:"end","show-seconds":r(C),"am-pm-mode":r(j),"arrow-control":r(_),"spinner-date":r(D),"disabled-hours":V,"disabled-minutes":M,"disabled-seconds":N,onChange:ue,onSetOption:r(J),onSelectRange:fe},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),h("div",{class:f(r(o).be("panel","footer"))},[h("button",{type:"button",class:f([r(o).be("panel","btn"),"cancel"]),onClick:i=>ie()},w(r(d)("el.datepicker.cancel")),11,["onClick"]),h("button",{type:"button",class:f([r(o).be("panel","btn"),"confirm"]),disabled:r(de),onClick:i=>le()},w(r(d)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):xe("v-if",!0)}});var vn=Je(bn,[["__file","panel-time-range.vue"]]);A.extend(Ye);var gn=ne({name:"ElTimePicker",install:null,props:K(y({},Le),{isRange:{type:Boolean,default:!1}}),emits:[ee],setup(a,s){const t=ae(),[c,d]=a.isRange?["timerange",vn]:["time",He],b=o=>s.emit(ee,o);return Ve(Be,a.popperOptions),s.expose({focus:()=>{var o;(o=t.value)==null||o.focus()},blur:()=>{var o;(o=t.value)==null||o.blur()},handleOpen:()=>{var o;(o=t.value)==null||o.handleOpen()},handleClose:()=>{var o;(o=t.value)==null||o.handleClose()}}),()=>{var o;const v=(o=a.format)!=null?o:je;return x(qe,Me(a,{ref:t,type:c,format:v,"onUpdate:modelValue":b}),{default:m=>x(d,m,null)})}}});const yn=Qe(gn);export{qe as CommonPicker,Hn as DEFAULT_FORMATS_DATE,Bn as DEFAULT_FORMATS_DATEPICKER,je as DEFAULT_FORMATS_TIME,yn as ElTimePicker,Fe as PICKER_BASE_INJECTION_KEY,Be as PICKER_POPPER_OPTIONS_INJECTION_KEY,He as TimePickPanel,jn as buildTimeList,qn as dateEquals,Yn as dayOrDaysToDate,yn as default,$n as extractDateFormat,Gn as extractTimeFormat,Jn as formatter,zn as makeList,Zn as parseDate,Qn as rangeArr,Le as timePickerDefaultProps,Wn as timePickerRangeTriggerProps,Xn as timePickerRngeTriggerProps,ea as timeUnits,na as valueEquals};
