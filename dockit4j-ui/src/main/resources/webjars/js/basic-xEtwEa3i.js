var h=Object.defineProperty;var _=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var k=(t,e,a)=>e in t?h(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,i=(t,e)=>{for(var a in e||(e={}))g.call(e,a)&&k(t,a,e[a]);if(_)for(var a of _(e))W.call(e,a)&&k(t,a,e[a]);return t};var c=(t,e,a)=>new Promise((r,o)=>{var u=s=>{try{p(a.next(s))}catch(d){o(d)}},m=s=>{try{p(a.throw(s))}catch(d){o(d)}},p=s=>s.done?r(s.value):Promise.resolve(s.value).then(u,m);p((a=a.apply(t,e)).next())});import{r as f,p as x,Z as O,$ as B,_ as C,d as T,w as $,q as b,o as A,B as D,D as E,u as v,J as w}from"../jse/index-index-Cxxqr7bn.js";import{_ as L,a as P}from"./layout.vue_vue_type_script_setup_true_lang-CbaMv3r2.js";import"./bootstrap-CqDtmTe9.js";import"./rotate-cw-W258iBku.js";import"./use-refresh-DeE4NdBP.js";import"./index-BL1gD3hW.js";const n=f(),y=f(!1),l=f({advancedStyle:{colorStops:[{color:"gray",offset:0},{color:"gray",offset:1}],type:"linear"},content:"",contentType:"multi-line-text",globalAlpha:.25,gridLayoutOptions:{cols:2,gap:[20,20],matrix:[[1,0],[0,1]],rows:2},height:200,layout:"grid",rotate:30,width:160});function S(){function t(r){return c(this,null,function*(){var u;const{Watermark:o}=yield C(()=>c(null,null,function*(){const{Watermark:m}=yield import("./index.esm-Ofvdfudw.js");return{Watermark:m}}),[],import.meta.url);l.value=i(i({},l.value),r),n.value=new o(l.value),yield(u=n.value)==null?void 0:u.create()})}function e(r){return c(this,null,function*(){var o;n.value?(yield B(),yield(o=n.value)==null?void 0:o.changeOptions(i(i({},l.value),r))):yield t(r)})}function a(){n.value&&(n.value.destroy(),n.value=void 0)}return y.value||(y.value=!0,x(()=>{a()})),{destroyWatermark:a,updateWatermark:e,watermark:O(n)}}const U=T({__name:"basic",setup(t){const{destroyWatermark:e,updateWatermark:a}=S();return $(()=>w.app.watermark,r=>c(null,null,function*(){r?yield a({content:w.app.watermarkContent}):e()}),{immediate:!0}),(r,o)=>(A(),b(v(P),null,{"lock-screen":D(()=>[E(v(L))]),_:1}))}});export{U as default};
